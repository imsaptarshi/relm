(this.webpackJsonprelm=this.webpackJsonprelm||[]).push([[0],{208:function(e,t,n){},210:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(59),o=n.n(c),i=(n(208),n(2)),s=n.n(i),l=n(9),d=n(3),u=(n(210),n(19)),b=n(317),j=n(316),m=n(314),h=n(318),p=n(365),x=n(324),f=n(325),O=n(326),v=n.p+"static/media/logo.e169293d.svg",g=n(315),w=n(319),y=n(191),k=Object(y.a)("https://thencvbhlwygpcdccbkq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMzAwMjg5NiwiZXhwIjoxOTQ4NTc4ODk2fQ.3uEVHpW_zoY11trlhhuaO1ynC3Y4IBrpd4r7lc6Xnj8"),S=n(1);var C=function(e){var t=e.communityId,n=Object(r.useState)(void 0),a=Object(d.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(void 0),u=Object(d.a)(i,2),x=u[0],f=u[1];Object(r.useEffect)((function(){window.localStorage.getItem("email")&&O(),t&&y()}),[t]);var O=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("users").select("username, avatar_url, email").eq("email",window.localStorage.getItem("email")).single();case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:o(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("communities").select("name, logo").eq("id",t).single();case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:f(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),C=function(){return Object(S.jsxs)(p.a,{bg:"alpha.white",color:"white",px:"6",onClick:function(){return window.location.href="/signin"},size:"sm",fontSize:"xs",fontWeight:"bold",border:"1px",borderColor:"transparent",transitionDuration:"200ms",_hover:{bg:"rgba(255, 255, 255, 0.05)",borderColor:"whiteAlpha.200"},_focus:{},_active:{bg:"rgba(255, 255, 255, 0.12)"},children:["Sign in",Object(S.jsx)(m.a,{ml:"1",children:Object(S.jsx)(g.a,{size:"14px"})})]})};return Object(S.jsxs)(j.a,{w:"full",justify:"space-between",alignItems:"center",children:[Object(S.jsxs)(j.a,{experimental_spaceX:x?"2":"3",onClick:function(){x||(window.location.href="/")},alignItems:"center",color:"white",_hover:{color:"brand.primary"},cursor:"pointer",transitionDuration:"300ms",children:[Object(S.jsx)(b.a,{rounded:x?"lg":"none",src:x?null===x||void 0===x?void 0:x.logo:v,alt:"relm",w:x?"7":"8",h:x?"7":"8"}),Object(S.jsx)(h.a,{fontWeight:"bold",fontSize:x?"base":"24",children:x?Object(S.jsx)(S.Fragment,{children:null===x||void 0===x?void 0:x.name}):Object(S.jsx)(S.Fragment,{children:"relm"})})]}),window.localStorage.getItem("email")?Object(S.jsx)(p.a,{bg:"alpha.white",onClick:function(){return window.location.href="/home"},color:"white",px:"6",size:"sm",fontSize:"xs",fontWeight:"semibold",border:"1px",borderColor:"transparent",transitionDuration:"200ms",_hover:{bg:"rgba(255, 255, 255, 0.05)",borderColor:"whiteAlpha.200"},_focus:{},leftIcon:Object(S.jsx)(w.a,{size:"14px"}),_active:{bg:"rgba(255, 255, 255, 0.12)"},whiteSpace:"nowrap",children:Object(S.jsx)(h.a,{isTruncated:!0,overflow:"clip",maxW:"80px",children:null===c||void 0===c?void 0:c.username})}):Object(S.jsx)(C,{})]})},_=n(363),A=n(321),I=n(313),z=n(194);var W=function(){var e=Object(_.a)(),t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),i=Object(d.a)(o,2),u=i[0],x=i[1],f=Object(r.useState)(""),O=Object(d.a)(f,2),g=O[0],w=O[1],y=function(){var t=Object(l.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g!==a)try{x(!0),n({EMAIL:a}),setTimeout((function(){e({title:"Success",position:"top-right",description:"Thank you for subscribing to Relm \ud83d\ude04",status:"success",duration:5e3,isClosable:!0}),w(a),c("")}),1500)}catch(r){console.log(r)}finally{setTimeout((function(){x(!1)}),1500)}else e({position:"top-right",description:"You are already subscribed",status:"info",duration:5e3,isClosable:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsx)(z.a,{url:"https://tech.us5.list-manage.com/subscribe/post?u=d4340c90dd362a5b80af646ba&amp;id=ead2619bac",render:function(e){var t=(e||{}).subscribe;return Object(S.jsx)("form",{onSubmit:function(e){e.preventDefault(),y(t)},children:Object(S.jsx)(j.a,{justify:"center",children:Object(S.jsxs)(j.a,{w:"full",maxW:"1200px",justify:"space-between",bg:"brand.secondary",direction:{base:"column",md:"row"},alignItems:"center",color:"white",py:"8",px:{base:"8",lg:"24"},children:[Object(S.jsxs)(j.a,{cursor:"pointer",onClick:function(){return window.location.href="/"},alignItems:"center",experimental_spaceX:"4",children:[Object(S.jsx)(b.a,{src:v,alt:"relm",w:"12",h:"12"}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{fontWeight:"bold",fontSize:"2xl",children:"relm"}),Object(S.jsx)(h.a,{fontWeight:"thin",fontSize:"xx-small",children:"Activating your community"})]})]}),Object(S.jsxs)(j.a,{w:{base:"80%",md:"auto"},direction:"column",mt:{base:"8",md:"0"},children:[Object(S.jsxs)(h.a,{children:["Get updates about"," ",Object(S.jsx)(h.a,{display:"inline",color:"brand.primary",children:"Relm"})]}),Object(S.jsx)(A.a,{value:a,required:!0,onChange:function(e){return c(e.target.value)},type:"email",mt:"1.5",size:"sm",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Your email"}),Object(S.jsx)(p.a,{type:"submit",_hover:{},_active:{bg:"pink.600"},_focus:{},bg:"brand.primary",color:"white",size:"sm",px:"6",mt:"2",minW:"200px",fontSize:"xs",mb:{base:"4",md:"0"},children:u?Object(S.jsx)(I.a,{size:"sm"}):Object(S.jsx)(S.Fragment,{children:"Subscribe to our newsletter"})})]})]})})})}})},E=n(182),F=n.n(E);var D=function(e){var t,n="pending",r=e().then((function(e){n="success",t=e}),(function(e){n="error",t=e}));return{read:function(){switch(n){case"pending":throw r;case"error":throw t;case"success":return t;default:return null}}}},q=new Map;var N=function(e){var t=q.get(e);return t||(t=D((function(){return new Promise((function(t,n){var r=new window.Image;r.src=e,r.addEventListener("load",(function(){return t(e)})),r.addEventListener("error",(function(){return n(new Error("Failed to load image ".concat(e)))}))}))})),q.set(e,t),t)},B=n(26);var R=function(){return Object(S.jsxs)(j.a,{justify:"center",alignItems:"center",children:[Object(S.jsx)(B.a,{children:Object(S.jsx)("title",{children:"Waiting for Relm ..."})}),Object(S.jsx)(m.a,{overflowX:"clip",w:"full",bg:"brand.secondary",children:Object(S.jsx)(j.a,{justify:"center",w:"full",children:Object(S.jsxs)(j.a,{alignItems:"center",justify:"center",maxW:"1400px",minH:"100vh",py:"6",px:{base:"8",lg:"24"},w:"full",children:[Object(S.jsx)(I.a,{color:"brand.primary"}),Object(S.jsx)(h.a,{color:"white",ml:"4",children:"Powering up communities ..."})]})})})]})};var X=function(){var e=function(e){return N(e.src).read(),Object(S.jsx)(b.a,Object(u.a)({},e))};return Object(S.jsx)(a.a.Suspense,{fallback:Object(S.jsx)(R,{}),children:Object(S.jsxs)(j.a,{justify:"center",children:[Object(S.jsx)(B.a,{children:Object(S.jsx)("title",{children:"Relm - Activating your community"})}),Object(S.jsxs)(m.a,{overflowX:"clip",w:"full",bg:"brand.secondary",children:[Object(S.jsx)(j.a,{justify:"center",w:"full",children:Object(S.jsxs)(m.a,{maxW:"1400px",minH:"100vh",py:"6",px:{base:"8",lg:"24"},w:"full",children:[Object(S.jsx)(C,{}),Object(S.jsxs)(j.a,{justify:"center",alignItems:"center",mt:"24",direction:"column",children:[Object(S.jsx)(h.a,{color:"brand.primary",fontWeight:"black",fontSize:{base:"4xl",md:"5xl",lg:"6xl"},align:"center",children:"Activating Your Community"}),Object(S.jsxs)(h.a,{color:"white",fontWeight:"medium",fontSize:{base:"xs",md:"sm",lg:"lg"},mt:"2",px:{lg:"40",md:"40",xl:"80"},align:"center",children:["Making communities more engaging with events, community analytics and newsletters with"," ",Object(S.jsx)(h.a,{cursor:"pointer",display:"inline",color:"brand.primary",children:"Relm"})]}),Object(S.jsxs)(p.a,{_hover:{transform:"translateY(-1.5px)"},_active:{bg:"pink.600"},_focus:{},bg:"brand.primary",color:"white",mt:"10",rounded:"2xl",fontWeight:"bold",fontSize:"lg",px:"14",py:"7",onClick:function(){return window.location.href="/signin"},children:["Get Into Relm",Object(S.jsx)(x.a,{position:"absolute",top:"-2",right:"-3",color:"white",rounded:"full",bg:"pink.800",px:"3",py:"1",children:"beta"})]})]}),Object(S.jsx)(f.a,{mt:{base:"32",md:"20",lg:"6"},mb:{base:"24",md:"16",lg:"0"},mx:"auto",transform:{base:"scale(1.99)",md:"scale(1.2)",lg:"none"},ratio:799/413,children:Object(S.jsx)(e,{src:"https://i.ibb.co/1dhvDZ7/hero.png"})})]})}),Object(S.jsx)(j.a,{justify:"center",py:{base:"14",md:"16",lg:"20"},bg:"#17181A",children:Object(S.jsx)(m.a,{maxW:"1400px",w:"full",px:{base:"8",lg:"44"},children:Object(S.jsx)(F.a,{id:"vYEdKI0BsXQ"})})}),Object(S.jsx)(O.a,{opacity:"0.1"}),Object(S.jsx)(W,{})]})]})})},L=n(22),T=n(327),H=n.p+"static/media/google.d21a7387.png";var M=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(Object(S.jsx)(h.a,{children:"Continue"})),o=Object(d.a)(c,2),i=o[0],u=o[1],x=Object(r.useState)(""),f=Object(d.a)(x,2),g=f[0],w=f[1],y=Object(_.a)(),C=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.auth.signIn({provider:"google"});case 3:if(n=e.sent,!(r=n.error)){e.next=7;break}throw r;case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y({title:"Error",position:"bottom",description:e.t0.error_description||e.t0.message,status:"error",duration:5e3,isClosable:!0});case 12:return e.prev=12,console.log("finally"),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,k.auth.signIn({email:t});case 4:if(n=e.sent,!(r=n.error)){e.next=8;break}throw r;case 8:y({title:"Account Created",position:"bottom",description:"Check your email for login link",status:"success",duration:5e3,isClosable:!0}),u(Object(S.jsx)(T.a,{})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),y({title:"Error",position:"bottom",description:e.t0.error_description||e.t0.message,status:"error",duration:5e3,isClosable:!0});case 15:return e.prev=15,a(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(j.a,{direction:{base:"column",md:"row"},children:[Object(S.jsx)(m.a,{bg:"brand.secondary",pt:"10",pl:"10",display:{base:"block",md:"none"},children:Object(S.jsx)(b.a,{src:v,alt:"relm",w:"12",h:"12"})}),Object(S.jsxs)(j.a,{bg:"black.400",display:{base:"none",md:"flex"},w:{md:"35%"},h:"100vh",p:{base:"6",md:"10"},direction:"column",justify:"space-between",children:[Object(S.jsx)(b.a,{src:v,alt:"relm",w:"14",h:"14"}),Object(S.jsxs)(m.a,{color:"white",children:[Object(S.jsx)(h.a,{fontWeight:"bold",fontSize:"4xl",children:"relm"}),Object(S.jsx)(h.a,{fontWeight:"thin",fontSize:"sm",children:"Activating your community"})]})]}),Object(S.jsx)(m.a,{w:{base:"100%",md:"65%"},h:"100vh",bg:"brand.secondary",p:{base:"10",md:"20"},children:Object(S.jsxs)(m.a,{w:{base:"100%",lg:"400px"},children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"bold",fontSize:"3xl",children:"Sign In"}),Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",mt:"8",fontSize:"sm",children:"Sign in with your email"}),Object(S.jsx)(A.a,{type:"email",onChange:function(e){w(e.target.value)},mt:"1.5",py:"5",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Your email"}),Object(S.jsx)(p.a,{w:"full",mt:"3",rounded:"lg",_focus:{},_active:{},onClick:function(){return z(g)},children:n?Object(S.jsx)(I.a,{}):i}),Object(S.jsxs)(j.a,{alignItems:"center",mt:"14",mb:"4",experimental_spaceX:"3",children:[Object(S.jsx)(h.a,{color:"white",fontSize:"xs",fontWeight:"medium",children:"OR"}),Object(S.jsx)(O.a,{w:"full",color:"white"})]}),Object(S.jsx)(p.a,{leftIcon:Object(S.jsx)(b.a,{src:H,w:"16px",h:"16px"}),border:"1px",borderColor:"transparent",_hover:{borderColor:"whiteAlpha.200"},_focus:{},_active:{},w:"full",bg:"whiteAlpha.200",rounded:"lg",fontSize:"sm",color:"white",onClick:function(){return C()},children:"Sign In With Google"}),Object(S.jsx)(h.a,{color:"whiteAlpha.500",mt:"4",fontSize:"sm",children:"By signing in you agree to our terms and conditions"})]})})]})};var Y=function(e){e.session;var t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(null),i=Object(d.a)(o,2),u=i[0],x=i[1],f=Object(r.useState)(null),O=Object(d.a)(f,2),w=O[0],y=O[1],C=Object(r.useState)(!0),z=Object(d.a)(C,2),W=z[0],E=z[1],F=Object(_.a)();Object(r.useEffect)((function(){D()}),[]);var D=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{E(!0),(t=k.auth.user())&&(x(t.email),t.username&&c(null===t||void 0===t?void 0:t.username),t.user_metadata&&y(null===(n=t.user_metadata)||void 0===n?void 0:n.avatar_url))}catch(r){console.log(r)}finally{E(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>3)){e.next=23;break}return e.prev=1,E(!0),n=k.auth.user(),r={id:n.id,username:t,avatar_url:w,email:u},e.next=7,k.from("users").upsert(r,{returning:"minimal"});case 7:if(a=e.sent,!(c=a.error)){e.next=11;break}throw c;case 11:window.localStorage.setItem("email",u),window.location.href="/home",e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),F({title:"Error",position:"bottom",description:e.t0.error_description||e.t0.message,status:"error",duration:5e3,isClosable:!0});case 18:return e.prev=18,E(!1),e.finish(18);case 21:e.next=24;break;case 23:F({title:"Error",position:"bottom",description:"Your name should have than 3 characters",status:"error",duration:5e3,isClosable:!0});case 24:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(j.a,{direction:{base:"column",md:"row"},children:[Object(S.jsx)(m.a,{bg:"brand.secondary",pt:"10",pl:"10",display:{base:"block",md:"none"},children:Object(S.jsx)(b.a,{src:v,alt:"relm",w:"12",h:"12"})}),Object(S.jsxs)(j.a,{display:{base:"none",md:"flex"},w:{md:"35%"},h:"100vh",bg:"black.400",p:{base:"6",md:"10"},direction:"column",justify:"space-between",children:[Object(S.jsx)(b.a,{src:v,alt:"relm",w:"14",h:"14"}),Object(S.jsxs)(m.a,{color:"white",children:[Object(S.jsx)(h.a,{fontWeight:"bold",fontSize:"4xl",children:"relm"}),Object(S.jsx)(h.a,{fontWeight:"thin",fontSize:"sm",children:"Activating your community"})]})]}),Object(S.jsx)(m.a,{w:{base:"100%",md:"65%"},h:"100vh",bg:"brand.secondary",p:{base:"10",md:"20"},children:Object(S.jsxs)(m.a,{w:{base:"100%",lg:"400px"},children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"bold",fontSize:"3xl",children:"Let's know more about you"}),Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",mt:"8",fontSize:"sm",children:"What do we call you?"}),Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),q(a)},children:[Object(S.jsx)(A.a,{value:a,type:"text",onChange:function(e){c(e.target.value)},mt:"1.5",py:"5",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Your name"}),Object(S.jsx)(p.a,{float:"right",mt:"6",rounded:"lg",_focus:{},_active:{},rightIcon:W?Object(S.jsx)(I.a,{size:"sm"}):Object(S.jsx)(g.a,{size:"20px"}),type:"submit",children:"Continue"})]})]})})]})},G=Object(r.createContext)({user:void 0,setUser:function(){}}),P=function(e){var t=e.children,n=Object(r.useState)(void 0),a=Object(d.a)(n,2),c=a[0],o=a[1];return Object(S.jsx)(G.Provider,{value:{user:c,setUser:o},children:t})},J=function(){return Object(r.useContext)(G)},U=n(335),V=n(328),K=n(329);var Q=function(e){var t=e.id,n=e.name,r=(e.description,e.audience),a=e.events,c=e.logo;return Object(S.jsxs)(j.a,{onClick:function(){window.location.href="/manage/community/".concat(t)},border:"1px",cursor:"pointer",mr:{md:"4"},mb:"4",borderColor:"transparent",transitionDuration:"200ms",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},alignItems:"center",bg:"alpha.white",overflow:"clip",isTruncated:!0,p:"2",rounded:"xl",w:"full",experimental_spaceX:"4",maxW:{md:"320px"},children:[Object(S.jsx)(f.a,{ratio:1,minW:"20",children:Object(S.jsx)(b.a,{src:c,rounded:"lg"})}),Object(S.jsxs)(j.a,{isTruncated:!0,direction:"column",justify:"space-between",children:[Object(S.jsx)(h.a,{isTruncated:!0,pr:"2",fontWeight:"bold",fontSize:{base:"lg",md:"lg"},children:n}),Object(S.jsxs)(j.a,{experimental_spaceX:"2",alignItems:"center",children:[Object(S.jsx)(V.a,{size:"16px"}),Object(S.jsx)(h.a,{fontSize:{base:"xs",md:"sm"},children:r})]}),Object(S.jsxs)(j.a,{experimental_spaceX:"2",alignItems:"center",children:[Object(S.jsx)(K.a,{size:"16px"}),Object(S.jsx)(h.a,{fontSize:{base:"xs",md:"sm"},children:a})]})]})]})},Z=n(330),$=n(331),ee=n(332),te=n(333),ne=n(368),re=n(366),ae=n(364),ce=n(337),oe=n(45),ie={"Quick Event":{enabled:!0},Audience:{enabled:!0},Community:{enabled:!0},Insights:{enabled:!0},Newsletter:{enabled:!1},Explore:{enabled:!1},"Revenue Solution":{enabled:!1}};var se=function(e){var t=e.communityId,n=Object(r.useState)(window.location.pathname),a=Object(d.a)(n,2),c=a[0],o=a[1],i=J(),x=i.user,f=i.setUser,O=Object(r.useState)(void 0),g=Object(d.a)(O,2),w=g[0],y=g[1];Object(r.useEffect)((function(){x||f(JSON.parse(localStorage.getItem("user"))),t&&C(t)}),[t,f,x]);var C=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(localStorage.getItem("email")),e.next=4,k.from("communities").select("id, name, logo ,description,audience,events").contains("createdBy",[localStorage.getItem("email")]).eq("id",t).single();case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:y(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),_=[{name:"Home",isExternal:!1,link:t?"/manage/community/".concat(t):"/home",Icon:function(e){return Object(S.jsx)(Z.a,Object(u.a)({},e))}},{name:"Audience",isExternal:!1,link:t?"/manage/community/".concat(t,"/audience"):"/audience",Icon:function(e){return Object(S.jsx)(V.a,Object(u.a)({},e))}},{name:"Events",isExternal:!1,link:t?"/manage/community/".concat(t,"/events"):"/events",Icon:function(e){return Object(S.jsx)(K.a,Object(u.a)({},e))}},{name:"Insights",isExternal:!1,link:t?"/manage/community/".concat(t,"/insights"):"/insights",Icon:function(e){return Object(S.jsx)($.a,Object(u.a)({},e))}},{name:"Newsletter",isExternal:!1,link:"#",Icon:function(e){return Object(S.jsx)(ee.a,Object(u.a)({},e))}},{name:"Explore",isExternal:!1,link:"#",Icon:function(e){return Object(S.jsx)(te.a,Object(u.a)({},e))}}],A=function(e){var n=e.name,r=e.logo;return Object(S.jsxs)(j.a,{cursor:"pointer",onClick:function(){window.location.href="/manage/community/".concat(t)},mb:"6",display:"flex",alignItems:"center",experimental_spaceX:"2",children:[Object(S.jsx)(b.a,{src:r,alt:n,w:{base:"10",lg:"8"},h:{base:"10",lg:"8"},rounded:"full"}),Object(S.jsx)(h.a,{isTruncated:!0,color:"white",display:{base:"none",lg:"block"},fontWeight:"bold",fontSize:"xl",children:n})]})},I=function(e){var t,n=e.name,r=e.link,a=e.Icon,i=!ie[n]||!!(null===(t=ie[n])||void 0===t?void 0:t.enabled);return Object(S.jsx)(oe.b,{to:i?r:"#",onClick:function(){return o(n)},children:Object(S.jsx)(ne.a,{label:n,display:{lg:"none"},placement:"right",children:Object(S.jsxs)(j.a,{opacity:i?"1":"0.5",cursor:i?"pointer":"not-allowed",experimental_spaceX:"3",fontSize:"lg",color:c===r?"brand.primary":"white",alignItems:"center",children:[Object(S.jsx)(a,{fill:c===r?"#FF4085":"none"}),Object(S.jsx)(h.a,{display:{base:"none",lg:"block"},fontWeight:c===r?"bold":"normal",children:n})]})})})};return Object(S.jsxs)(m.a,{children:[Object(S.jsxs)(j.a,{direction:"column",justify:"space-between",alignItems:{base:"center",lg:"start"},w:{base:"80px",md:"100px",lg:"360px"},bg:"black.400",h:"100vh",position:"fixed",p:{base:"6",lg:"10"},children:[Object(S.jsxs)(m.a,{w:{lg:"full"},children:[Object(S.jsx)(m.a,{w:"-webkit-fit-content",cursor:"pointer",onClick:function(){return window.location.href="/home"},children:Object(S.jsx)(b.a,{src:v,alt:"relm",w:"10",h:"10"})}),Object(S.jsxs)(m.a,{px:{base:"0",lg:"10"},mt:"50px",children:[t?w?Object(S.jsx)(A,{name:null===w||void 0===w?void 0:w.name,logo:null===w||void 0===w?void 0:w.logo}):Object(S.jsxs)(j.a,{mb:"6",display:"flex",alignItems:"center",experimental_spaceX:"2",children:[Object(S.jsx)(re.a,{w:{base:"10",lg:"8"},h:{base:"10",lg:"8"},rounded:"full"}),Object(S.jsx)(re.a,{rounded:"xl",h:"6",w:"20",display:{base:"none",lg:"block"}})]}):Object(S.jsx)(S.Fragment,{}),Object(S.jsxs)(p.a,{onClick:function(){var e=t?"/manage/community/".concat(t,"/new/event"):"/new/event";window.location.href=e},_hover:{bg:"#DD3370"},transitionDuration:"200ms",_focus:{},_active:{},size:"sm",py:"5",w:{base:"10",lg:"full"},rounded:{base:"full",lg:"xl"},color:"white",bg:"brand.primary",children:[Object(S.jsx)(h.a,{display:{base:"none",lg:"block"},children:"Create new event"}),Object(S.jsx)(m.a,{display:{base:"block",lg:"none"},children:Object(S.jsx)(U.a,{})})]}),Object(S.jsx)(j.a,{alignItems:{base:"center",lg:"start"},mt:"8",direction:"column",experimental_spaceY:"5",children:_.map((function(e,t){return Object(S.jsx)(I,Object(u.a)({},e),t)}))})]})]}),Object(S.jsx)(j.a,{p:{base:"0",md:"2"},w:{base:"-webkit-fit-content",lg:"full"},bg:"whiteAlpha.300",rounded:"full",alignItems:"center",children:Object(S.jsxs)(ae.a,{children:[Object(S.jsx)(ae.b,{overflow:"clip",children:Object(S.jsxs)(j.a,{alignItems:"center",experimental_spaceX:"2",children:[Object(S.jsx)(ce.a,{size:"md",src:null===x||void 0===x?void 0:x.avatar_url,name:null===x||void 0===x?void 0:x.username}),Object(S.jsxs)(m.a,{display:{base:"none",lg:"block"},children:[Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontWeight:"semibold",fontSize:"lg",children:null===x||void 0===x?void 0:x.username}),Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontSize:"xs",children:null===x||void 0===x?void 0:x.email})]})]})}),Object(S.jsx)(ae.d,{bg:"brand.secondary",m:"2",borderColor:"gray.700",color:"white",children:Object(S.jsx)(ae.c,{_hover:{bg:"whiteAlpha.50"},_focus:{bg:"whiteAlpha.50"},onClick:Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signOut();case 2:window.location.href="/",f(void 0),localStorage.removeItem("user"),localStorage.removeItem("email");case 6:case"end":return e.stop()}}),e)}))),children:"Sign out"})})]})})]}),Object(S.jsx)(m.a,{w:{base:"0",md:"100px",lg:"360px"},bg:"pink",h:"full",minH:"100vh"})]})},le=n(338),de=n(339);var ue=function(e){var t=e.children,n=e.communityId,a=Object(r.useState)(!1),c=Object(d.a)(a,2),o=c[0],i=c[1];return Object(S.jsxs)(j.a,{children:[Object(S.jsx)(m.a,{zIndex:2,display:{base:o?"block":"none",md:"block"},children:Object(S.jsx)(se,{communityId:n})}),Object(S.jsxs)(m.a,{p:{base:"5",md:"10"},bg:"brand.secondary",w:"full",minH:"100vh",color:"white",children:[Object(S.jsxs)(j.a,{display:{base:"flex",md:"none"},m:"-2",justify:"space-between",mb:"4",alignItems:"center",children:[Object(S.jsx)(b.a,{src:v,alt:"relm",w:"10",h:"10",ml:"1",mt:"2"}),Object(S.jsx)(m.a,{cursor:"pointer",onClick:function(){return i(!o)},rounded:"full",p:"2",_hover:{bg:"whiteAlpha.200"},children:o?Object(S.jsx)(le.a,{}):Object(S.jsx)(de.a,{})})]}),t]})]})};function be(e){if(e)return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.month-1]," ").concat(e.date,", ").concat(e.time," GMT+5:30")}var je=function(e){var t=e.id,n=e.name,a=e.description,c=e.date,o=e.image,i=e.community,u=e.audience,x=Object(r.useState)(void 0),O=Object(d.a)(x,2),v=O[0],g=O[1];Object(r.useEffect)((function(){i&&w()}),[]);var w=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("communities").select("id, name, logo").eq("id",i).single();case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:g(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(j.a,{direction:"column",border:"1px",cursor:"pointer",mr:{md:"4"},mb:"4",borderColor:"transparent",transitionDuration:"200ms",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},overflow:"clip",bg:"alpha.white",p:"2",rounded:"xl",w:"full",maxW:{base:"full",md:"300px"},onClick:function(){window.location.href="/manage/event/".concat(t)},children:[Object(S.jsx)(f.a,{ratio:1920/1080,w:"full",children:Object(S.jsx)(b.a,{src:o,alt:n,rounded:"lg"})}),Object(S.jsxs)(j.a,{direction:"column",justify:"space-between",h:"full",mx:"4",children:[Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{fontSize:"xl",fontWeight:"bold",mt:"4",children:n}),Object(S.jsxs)(j.a,{fontSize:"xs",color:"brand.primary",experimental_spaceX:"1.5",alignItems:"center",mt:"1",children:[Object(S.jsx)(K.a,{size:"14px"}),Object(S.jsx)(h.a,{children:be(c)})]}),Object(S.jsxs)(j.a,{mt:"1",fontSize:"xs",experimental_spaceX:"1.5",color:"white",alignItems:"center",children:[Object(S.jsx)(V.a,{size:"14px"}),Object(S.jsx)(h.a,{children:u})]}),Object(S.jsx)(h.a,{fontSize:"sm",mt:"4",noOfLines:2,children:a})]}),Object(S.jsx)(m.a,{children:Object(S.jsxs)(j.a,{mt:"4",mb:"2",justify:"space-between",mx:"-2",children:[v?Object(S.jsxs)(j.a,{alignItems:"center",experimental_spaceX:"2",children:[Object(S.jsx)(b.a,{src:v.logo,alt:v.name,w:"5",h:"5",rounded:"base"}),Object(S.jsx)(h.a,{fontWeight:"medium",fontSize:"sm",children:v.name})]}):Object(S.jsx)(m.a,{}),Object(S.jsx)(p.a,{size:"sm",bg:"alpha.white",border:"1px",borderColor:"transparent",px:"4",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},_focus:{},_active:{bg:"whiteAlpha.200"},children:"Manage"})]})})]})]})},me=function(e){var t=new Date,n=t.getDate(),r=t.getMonth()+1,a=t.getFullYear();return e.date>=n&&e.month>=r&&e.year>=a};function he(){for(var e=[[0,4,"Good Night"],[5,11,"Good Morning"],[12,17,"Good Afternoon"],[18,24,"Good Night"]],t=(new Date).getHours(),n=0;n<e.length;n++)if(t>=e[n][0]&&t<=e[n][1])return e[n][2]}var pe=function(){var e=J(),t=e.user,n=e.setUser,a=Object(r.useState)(void 0),c=Object(d.a)(a,2),o=c[0],i=c[1],b=Object(r.useState)(void 0),x=Object(d.a)(b,2),f=x[0],v=x[1];Object(r.useEffect)((function(){C(),y(),g()}),[]);var g=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("events").select("id, name, image, description, date, community, audience").contains("createdBy",[localStorage.getItem("email")]).order("created_at",{ascending:!1});case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:a=[],c=[],n.forEach((function(e){me(e.date)?a.push(e):c.push(e)})),v(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),w=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(j.a,{justify:"space-between",mt:"6",alignItems:"center",children:[Object(S.jsx)(oe.b,{to:"/events",children:Object(S.jsx)(h.a,{casing:"capitalize",fontSize:"sm",fontWeight:"semibold",letterSpacing:"2px",color:"white",children:"UPCOMING EVENTS"})}),Object(S.jsx)(oe.b,{to:"/new/event",children:Object(S.jsx)(p.a,{size:"sm",bg:"alpha.white",border:"1px",borderColor:"transparent",leftIcon:Object(S.jsx)(U.a,{size:"18px"}),px:"4",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},_focus:{},_active:{bg:"whiteAlpha.200"},children:"Create"})})]}),Object(S.jsx)(j.a,{wrap:"wrap",mt:"4",children:f?null===f||void 0===f?void 0:f.map((function(e,t){return Object(S.jsx)(je,Object(u.a)({},e),t)})):Object(S.jsx)(S.Fragment,{})})]})},y=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("communities").select("id, name, logo,description,audience,events").contains("createdBy",[localStorage.getItem("email")]).order("created_at",{ascending:!1});case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:i(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(s.a.mark((function e(){var t,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("users").select("username, avatar_url, email").eq("email",localStorage.getItem("email")).single();case 3:if(t=e.sent,r=t.data,!(a=t.error)){e.next=8;break}throw a;case 8:n(r),localStorage.setItem("user",JSON.stringify({username:r.username,avatar_url:r.avatar_url,email:r.email})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(ue,{children:[Object(S.jsx)(B.a,{children:Object(S.jsx)("title",{children:"Home | Relm"})}),Object(S.jsxs)(m.a,{children:[Object(S.jsxs)(h.a,{color:"whiteAlpha.500",fontSize:{base:"sm",md:"lg"},children:[he(),","]}),Object(S.jsx)(h.a,{fontSize:{base:"2xl",md:"3xl"},fontWeight:"bold",children:null===t||void 0===t?void 0:t.username}),Object(S.jsx)(O.a,{mt:"3",color:"white",opacity:"0.2"}),Object(S.jsxs)(j.a,{justify:"space-between",mt:"4",alignItems:"center",children:[Object(S.jsx)(h.a,{casing:"capitalize",fontSize:"sm",fontWeight:"semibold",letterSpacing:"2px",color:"white",children:"COMMUNITIES"}),Object(S.jsx)(oe.b,{to:"/new/community",children:Object(S.jsx)(p.a,{size:"sm",bg:"alpha.white",border:"1px",borderColor:"transparent",leftIcon:Object(S.jsx)(U.a,{size:"18px"}),px:"4",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},_focus:{},_active:{bg:"whiteAlpha.200"},children:"Create"})})]}),(null===o||void 0===o?void 0:o.length)>0?Object(S.jsx)(j.a,{mt:"4",wrap:"wrap",children:null===o||void 0===o?void 0:o.map((function(e,t){return Object(S.jsx)(Q,Object(u.a)({},e),t)}))}):o?Object(S.jsx)(j.a,{color:"whiteAlpha.600",my:"8",textAlign:"center",justify:"center",children:"\ud83d\udc1d Click on create to add communities"}):Object(S.jsx)(S.Fragment,{}),(null===f||void 0===f?void 0:f.length)>0?Object(S.jsx)(w,{}):Object(S.jsx)(S.Fragment,{})]})]})},xe=n(334),fe=n(361),Oe=n(343),ve=n(340),ge=n(341),we=n(342),ye=n(344),ke=n(70),Se=n.n(ke);var Ce=function(){var e=["https://ik.imagekit.io/86h5mrsjotwk/defaultCommunityLogo_gUich_dto.svg?updatedAt=1633160835413","https://ik.imagekit.io/86h5mrsjotwk/dc-3_PXKqFbob4Lj.svg?updatedAt=1633165287477","https://ik.imagekit.io/86h5mrsjotwk/dc-2_7d7-btPTg.svg?updatedAt=1633165286592","https://ik.imagekit.io/86h5mrsjotwk/dc-1_JT81iTWJQGq.svg?updatedAt=1633165286130"],t=J().user,n=Object(r.useState)(e[0]),a=Object(d.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(""),u=Object(d.a)(i,2),x=u[0],f=u[1],v=Object(r.useState)(""),g=Object(d.a)(v,2),w=g[0],y=g[1],C=Object(r.useState)(!1),z=Object(d.a)(C,2),W=z[0],E=z[1],F=Object(r.useState)(!1),D=Object(d.a)(F,2),q=D[0],N=D[1],R=Object(_.a)(),X=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),n.append("upload_preset","kolmmszz"),e.prev=3,N(!0),e.next=7,Se.a.post("https://api.cloudinary.com/v1_1/relmcloud/image/upload",n);case 7:r=e.sent,console.log(r),o(r.data.url),M(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:return e.prev=16,N(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),L=Object(xe.a)(),T=L.isOpen,H=L.onOpen,M=L.onClose,Y=function(){var e=Object(l.a)(s.a.mark((function e(n,r,a){var c,i,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>3)){e.next=24;break}return o(a),e.prev=2,E(!0),c={name:n,description:r,logo:a,createdBy:[null===t||void 0===t?void 0:t.email]},e.next=7,k.from("communities").upsert(c).single();case 7:if(i=e.sent,l=i.data,!(d=i.error)){e.next=12;break}throw d;case 12:R({title:"Success",position:"bottom",description:"Community created successfully!",status:"success",duration:5e3,isClosable:!0}),setTimeout((function(){window.location.href="/manage/community/".concat(l.id)}),1e3),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),R({title:"Error",position:"bottom",description:e.t0.error_description||e.t0.message,status:"error",duration:5e3,isClosable:!0});case 19:return e.prev=19,E(!1),e.finish(19);case 22:e.next=25;break;case 24:R({title:"Error",position:"bottom",description:"Name should have more than 3 characters",status:"error",duration:5e3,isClosable:!0});case 25:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(S.jsxs)(ue,{children:[Object(S.jsx)(B.a,{children:Object(S.jsx)("title",{children:"New Community | Relm"})}),Object(S.jsxs)(fe.a,{isOpen:T,onClose:M,children:[Object(S.jsx)(fe.g,{}),Object(S.jsxs)(fe.d,{pb:"3",bg:"#1D2023",color:"white",children:[Object(S.jsx)(fe.f,{children:"Choose a logo"}),Object(S.jsx)(fe.c,{}),Object(S.jsx)(fe.b,{children:Object(S.jsxs)(j.a,{wrap:"wrap",children:[Object(S.jsx)(j.a,{cursor:"pointer",border:"2px",justify:"center",alignItems:"center",_hover:{borderColor:"whiteAlpha.50"},borderColor:"transparent",mb:"3",mr:"3",w:"24",h:"24",rounded:"xl",bg:"whiteAlpha.300",onClick:function(){document.getElementById("file").click()},children:Object(S.jsx)(ve.a,{size:"30px"})}),e.map((function(e,t){return Object(S.jsx)(m.a,{cursor:"pointer",onClick:function(){o(e)},children:Object(S.jsx)(b.a,{border:"4px",borderColor:c===e?"brand.primary":"transparent",mb:"3",mr:"3",src:e,w:"24",h:"24",rounded:"xl"})},t)}))]})}),Object(S.jsx)(A.a,{type:"file",id:"file",accept:"image/*",display:"none",onChange:function(e){return X(e.target.files[0])}}),Object(S.jsx)(fe.e,{children:Object(S.jsx)(p.a,{colorScheme:"blue",mr:3,onClick:M,children:q?Object(S.jsx)(I.a,{}):Object(S.jsx)(S.Fragment,{children:"Done"})})})]})]}),Object(S.jsxs)(m.a,{children:[Object(S.jsxs)(j.a,{alignItems:"center",experimental_spaceX:"4",children:[Object(S.jsx)(m.a,{cursor:"pointer",p:"2",onClick:function(){window.location.href="/home"},rounded:"full",_hover:{bg:"whiteAlpha.200"},children:Object(S.jsx)(ge.a,{})}),Object(S.jsx)(h.a,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",children:"Create Community"})]}),Object(S.jsx)(O.a,{mt:"3",color:"white",opacity:"0.2"}),Object(S.jsxs)(j.a,{mt:"6",w:{base:"full",md:"80%"},direction:{base:"column",md:"row"},children:[Object(S.jsxs)(m.a,{minW:"24",mr:"6",mb:"4",children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",mb:"1",children:"Logo"}),Object(S.jsxs)(m.a,{position:"relative",w:"-webkit-fit-content",children:[Object(S.jsx)(m.a,{position:"absolute",bg:"blackAlpha.500",p:"2",cursor:"pointer",_hover:{bg:"blackAlpha.600"},transitionDuration:"200ms",roundedTopStart:"xl",bottom:"0",right:"0",onClick:H,children:Object(S.jsx)(we.a,{size:"18px"})}),Object(S.jsx)(b.a,{src:c,w:"24",h:"24",rounded:"lg"})]})]}),Object(S.jsxs)(m.a,{w:"full",children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",children:"Name *"}),Object(S.jsx)(A.a,{w:{base:"full",md:"80%",lg:"70%"},type:"text",mt:"1.5",py:"5",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Community name",onChange:function(e){return f(e.target.value)}}),Object(S.jsx)(h.a,{color:"white",mt:"4",fontWeight:"medium",fontSize:"sm",children:"Description"}),Object(S.jsx)(Oe.a,{w:{base:"full",md:"80%",lg:"70%"},type:"email",mt:"1.5",p:"4",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Describe your community",onChange:function(e){return y(e.target.value)}}),Object(S.jsx)(j.a,{mt:"6",justify:"end",w:{base:"full",md:"80%",lg:"70%"},children:Object(S.jsx)(p.a,{display:"flex",float:"right",rounded:"lg",w:W?"200px":"auto",_focus:{},_active:{},color:"black",onClick:function(){return Y(x,w,c)},children:W?Object(S.jsx)(I.a,{}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ye.a,{})," ",Object(S.jsx)(h.a,{ml:"2",children:"Create Community"})]})})})]})]})]})]})},_e=n(346);var Ae=function(e){var t=e.id,n=e.communityName,a=e.communityDescription,c=e.communityLogo,o=e.close,i=["https://ik.imagekit.io/86h5mrsjotwk/defaultCommunityLogo_gUich_dto.svg?updatedAt=1633160835413","https://ik.imagekit.io/86h5mrsjotwk/dc-3_PXKqFbob4Lj.svg?updatedAt=1633165287477","https://ik.imagekit.io/86h5mrsjotwk/dc-2_7d7-btPTg.svg?updatedAt=1633165286592","https://ik.imagekit.io/86h5mrsjotwk/dc-1_JT81iTWJQGq.svg?updatedAt=1633165286130"],u=J().user,x=Object(r.useState)(c),f=Object(d.a)(x,2),O=f[0],v=f[1],g=Object(r.useState)(n),w=Object(d.a)(g,2),y=w[0],C=w[1],z=Object(r.useState)(a),W=Object(d.a)(z,2),E=W[0],F=W[1],D=Object(r.useState)(!1),q=Object(d.a)(D,2),N=q[0],B=q[1],R=Object(r.useState)(!1),X=Object(d.a)(R,2),L=X[0],T=X[1],H=Object(_.a)(),M=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),n.append("upload_preset","kolmmszz"),e.prev=3,T(!0),e.next=7,Se.a.post("https://api.cloudinary.com/v1_1/relmcloud/image/upload",n);case 7:r=e.sent,console.log(r),v(r.data.url),U(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:return e.prev=16,T(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),Y=Object(xe.a)(),G=Y.isOpen,P=Y.onOpen,U=Y.onClose,V=function(){return Object(S.jsxs)(fe.a,{isOpen:G,onClose:U,children:[Object(S.jsx)(fe.g,{}),Object(S.jsxs)(fe.d,{pb:"3",bg:"#1D2023",color:"white",children:[Object(S.jsx)(fe.f,{children:"Choose a logo"}),Object(S.jsx)(fe.c,{}),Object(S.jsx)(fe.b,{children:Object(S.jsxs)(j.a,{wrap:"wrap",children:[Object(S.jsx)(j.a,{cursor:"pointer",border:"2px",justify:"center",alignItems:"center",_hover:{borderColor:"whiteAlpha.50"},borderColor:"transparent",mb:"3",mr:"3",w:"24",h:"24",rounded:"xl",bg:"whiteAlpha.300",onClick:function(){document.getElementById("file").click()},children:Object(S.jsx)(ve.a,{size:"30px"})}),i.map((function(e,t){return Object(S.jsx)(m.a,{cursor:"pointer",onClick:function(){v(e)},children:Object(S.jsx)(b.a,{border:"4px",borderColor:O===e?"brand.primary":"transparent",mb:"3",mr:"3",src:e,w:"24",h:"24",rounded:"xl"})},t)}))]})}),Object(S.jsx)(A.a,{type:"file",id:"file",accept:"image/*",display:"none",onChange:function(e){return M(e.target.files[0])}}),Object(S.jsx)(fe.e,{children:Object(S.jsx)(p.a,{colorScheme:"blue",mr:3,onClick:U,children:L?Object(S.jsx)(I.a,{}):Object(S.jsx)(S.Fragment,{children:"Done"})})})]})]})},K=function(){var e=Object(l.a)(s.a.mark((function e(n,r,a){var c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>3)){e.next=24;break}return v(a),e.prev=2,B(!0),c={id:t,name:n,description:r,logo:a,createdBy:[null===u||void 0===u?void 0:u.email]},e.next=7,k.from("communities").upsert(c,{returning:"minimal"});case 7:if(i=e.sent,!(l=i.error)){e.next=11;break}throw l;case 11:H({title:"Success",position:"bottom",description:"Community created successfully!",status:"success",duration:5e3,isClosable:!0}),o(),window.location.reload(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),H({title:"Error",position:"bottom",description:e.t0.error_description||e.t0.message,status:"error",duration:5e3,isClosable:!0});case 19:return e.prev=19,B(!1),e.finish(19);case 22:e.next=25;break;case 24:H({title:"Error",position:"bottom",description:"Name should have more than 3 characters",status:"error",duration:5e3,isClosable:!0});case 25:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(S.jsxs)(j.a,{mt:"6",w:"full",direction:{base:"column",md:"row"},color:"white",children:[Object(S.jsx)(V,{}),Object(S.jsxs)(m.a,{minW:"24",mr:"6",mb:"4",children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",mb:"1",children:"Logo"}),Object(S.jsxs)(m.a,{position:"relative",w:"-webkit-fit-content",children:[Object(S.jsx)(m.a,{position:"absolute",bg:"blackAlpha.500",p:"2",cursor:"pointer",_hover:{bg:"blackAlpha.600"},transitionDuration:"200ms",roundedTopStart:"xl",bottom:"0",right:"0",onClick:P,children:Object(S.jsx)(we.a,{size:"18px"})}),Object(S.jsx)(b.a,{src:O,w:"24",h:"24",rounded:"lg"})]})]}),Object(S.jsxs)(m.a,{w:"full",children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",children:"Name *"}),Object(S.jsx)(A.a,{value:y,w:"full",type:"text",mt:"1.5",py:"5",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Community name",onChange:function(e){return C(e.target.value)}}),Object(S.jsx)(h.a,{color:"white",mt:"4",fontWeight:"medium",fontSize:"sm",children:"Description"}),Object(S.jsx)(Oe.a,{value:E,w:"full",type:"email",mt:"1.5",p:"4",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Describe your community",onChange:function(e){return F(e.target.value)}}),Object(S.jsx)(j.a,{mt:"6",justify:"end",w:"full",children:Object(S.jsx)(p.a,{display:"flex",float:"right",rounded:"lg",w:N?"100px":"auto",_focus:{},_active:{},color:"black",onClick:function(){return K(y,E,O)},children:N?Object(S.jsx)(I.a,{}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ye.a,{})," ",Object(S.jsx)(h.a,{ml:"2",children:"Save"})]})})})]})]})},Ie=n(345);var ze=function(e){var t=e.username,n=e.communityName,r=e.link,a=Object(L.f)();return Object(S.jsxs)(j.a,{alignItems:"center",experimental_spaceX:"2",children:[Object(S.jsx)(m.a,{cursor:"pointer",onClick:function(){r?window.location.href=r:a.goBack()},children:Object(S.jsx)(ge.a,{size:"18px"})}),Object(S.jsxs)(Ie.a,{color:"white",children:[Object(S.jsx)(Ie.b,{children:Object(S.jsx)(Ie.c,{href:"/home",children:t})}),Object(S.jsx)(Ie.b,{children:Object(S.jsx)(Ie.c,{href:"#",children:n})})]})]})};var We=function(e){var t=e.match.params.id,n=Object(r.useState)(void 0),a=Object(d.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(void 0),b=Object(d.a)(i,2),x=b[0],f=b[1],v=J().user,g=Object(xe.a)(),w=g.isOpen,y=g.onOpen,C=g.onClose;Object(r.useEffect)((function(){A(),_()}),[]);var _=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("events").select("id, name, image, description, date, community, audience").contains("createdBy",[localStorage.getItem("email")]).eq("community",t).order("created_at",{ascending:!1});case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:c=[],o=[],r.forEach((function(e){me(e.date)?c.push(e):o.push(e)})),f(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(localStorage.getItem("email")),e.next=4,k.from("communities").select("id, name, logo,description,audience,events").contains("createdBy",[localStorage.getItem("email")]).eq("id",t).single();case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:o(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(ue,{communityId:t,children:[c?Object(S.jsx)(B.a,{children:Object(S.jsxs)("title",{children:[null===c||void 0===c?void 0:c.name," | Relm"]})}):Object(S.jsx)(S.Fragment,{}),Object(S.jsxs)(m.a,{children:[Object(S.jsxs)(fe.a,{isOpen:w,onClose:C,size:"xl",children:[Object(S.jsx)(fe.g,{}),Object(S.jsxs)(fe.d,{bg:"#1D2023",children:[Object(S.jsxs)(fe.f,{color:"white",children:["Settings ",Object(S.jsx)(fe.c,{color:"white"})]}),Object(S.jsx)(fe.b,{px:"8",pb:"8",children:Object(S.jsx)(Ae,{communityName:null===c||void 0===c?void 0:c.name,communityDescription:null===c||void 0===c?void 0:c.description,communityLogo:null===c||void 0===c?void 0:c.logo,id:null===c||void 0===c?void 0:c.id,close:C})})]})]}),Object(S.jsx)(ze,{link:"/home",username:null===v||void 0===v?void 0:v.username,communityName:null===c||void 0===c?void 0:c.name}),Object(S.jsxs)(j.a,{justify:"space-between",alignItems:"end",children:[Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{fontSize:{base:"2xl",md:"3xl"},fontWeight:"bold",children:null===c||void 0===c?void 0:c.name}),(null===c||void 0===c?void 0:c.description)?Object(S.jsx)(h.a,{fontSize:{base:"xs",md:"sm"},fontWeight:"thin",children:null===c||void 0===c?void 0:c.description}):Object(S.jsx)(S.Fragment,{})]}),Object(S.jsx)(m.a,{_hover:{bg:"whiteAlpha.200"},rounded:"full",p:"2",cursor:"pointer",onClick:function(){return y()},children:Object(S.jsx)(_e.a,{size:"20px"})})]}),Object(S.jsx)(O.a,{mt:"3",color:"white",opacity:"0.2"})]}),x?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(j.a,{justify:"space-between",mt:"4",alignItems:"center",children:[Object(S.jsx)(oe.b,{to:"/manage/community/".concat(t,"/events"),children:Object(S.jsx)(h.a,{casing:"capitalize",fontSize:"sm",fontWeight:"semibold",letterSpacing:"2px",color:"white",children:"UPCOMING EVENTS"})}),Object(S.jsx)(oe.b,{to:"/manage/community/".concat(t,"/new/event"),children:Object(S.jsx)(p.a,{size:"sm",bg:"alpha.white",border:"1px",borderColor:"transparent",leftIcon:Object(S.jsx)(U.a,{size:"18px"}),px:"4",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},_focus:{},_active:{bg:"whiteAlpha.200"},children:"Create"})})]}),(null===x||void 0===x?void 0:x.length)>0?null===x||void 0===x?void 0:x.map((function(e,t){return Object(S.jsx)(j.a,{wrap:"wrap",mt:"4",children:Object(S.jsx)(je,Object(u.a)({},e),t)})})):x?Object(S.jsx)(j.a,{color:"whiteAlpha.600",my:"10",justify:"center",textAlign:"center",children:"\ud83d\udc1d No upcoming events"}):Object(S.jsx)(S.Fragment,{})]}):Object(S.jsx)(S.Fragment,{})]})};var Ee=function(e){var t=e.match.params.id,n=Object(r.useState)("Upcoming"),a=Object(d.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(void 0),b=Object(d.a)(i,2),x=b[0],f=b[1],v=Object(r.useState)(void 0),g=Object(d.a)(v,2),w=g[0],y=g[1],C=Object(r.useState)(void 0),_=Object(d.a)(C,2),A=_[0],I=_[1],z=J().user;Object(r.useEffect)((function(){t&&F(),W()}),[]);var W=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a,c,o,i,l,d,u,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=16;break}return e.next=4,k.from("events").select("id, name, image, description, date, community, audience").contains("createdBy",[localStorage.getItem("email")]).eq("community",t).order("created_at",{ascending:!1});case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:c=[],o=[],r.forEach((function(e){me(e.date)?c.push(e):o.push(e)})),y(o),f(c),e.next=28;break;case 16:return e.next=18,k.from("events").select("id, name, image, description, date, community, audience").contains("createdBy",[localStorage.getItem("email")]).order("created_at",{ascending:!1});case 18:if(i=e.sent,l=i.data,!(d=i.error)){e.next=23;break}throw d;case 23:u=[],b=[],l.forEach((function(e){me(e.date)?u.push(e):b.push(e)})),y(b),f(u);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(0),console.log(e.t0);case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t=e.name;return Object(S.jsx)(m.a,{py:"2",px:"4",borderBottom:"2px",onClick:function(){return o(t)},transitionDuration:"200ms",cursor:"pointer",color:c===t?"brand.primary":"whiteAlpha.700",_hover:{color:c===t?"brand.primary":"white"},borderColor:c===t?"brand.primary":"transparent",children:Object(S.jsx)(h.a,{children:t})})},F=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(localStorage.getItem("email")),e.next=4,k.from("communities").select("id, name, logo,description,audience,events").contains("createdBy",[localStorage.getItem("email")]).eq("id",t).single();case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:I(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(ue,{communityId:t,children:[Object(S.jsx)(B.a,{children:Object(S.jsx)("title",{children:"Events | Relm"})}),Object(S.jsxs)(m.a,{children:[t?Object(S.jsx)(ze,{username:null===z||void 0===z?void 0:z.username,communityName:null===A||void 0===A?void 0:A.name}):Object(S.jsx)(S.Fragment,{}),Object(S.jsxs)(j.a,{alignItems:"center",justify:"space-between",children:[Object(S.jsx)(h.a,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",children:"Events"}),Object(S.jsx)(p.a,{size:"sm",bg:"alpha.white",border:"1px",borderColor:"transparent",leftIcon:Object(S.jsx)(U.a,{size:"18px"}),px:"4",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},_focus:{},_active:{bg:"whiteAlpha.200"},onClick:function(){var e=t?"/manage/community/".concat(t,"/new/event"):"/new/event";window.location.href=e},children:"Create"})]}),Object(S.jsx)(j.a,{mt:"3",experimental_spaceX:"3",children:["Upcoming","Done"].map((function(e,t){return Object(S.jsx)(E,{name:e})}))}),Object(S.jsx)(O.a,{color:"white",opacity:"0.2"}),Object(S.jsxs)(j.a,{wrap:"wrap",mt:"6",children:["Upcoming"===c&&x?(null===x||void 0===x?void 0:x.length)>0?null===x||void 0===x?void 0:x.map((function(e,t){return Object(S.jsx)(je,Object(u.a)({},e),t)})):Object(S.jsx)(j.a,{w:"full",color:"whiteAlpha.600",my:"10",justify:"center",textAlign:"center",children:"\ud83d\udc1d No upcoming events"}):Object(S.jsx)(S.Fragment,{}),"Done"===c&&w?(null===w||void 0===w?void 0:w.length)>0?null===w||void 0===w?void 0:w.map((function(e,t){return Object(S.jsx)(je,Object(u.a)({},e),t)})):Object(S.jsx)(j.a,{w:"full",color:"whiteAlpha.600",my:"10",justify:"center",textAlign:"center",children:"\ud83d\udc1d No past events"}):Object(S.jsx)(S.Fragment,{})]})]})]})},Fe=n(348),De=n(347),qe=n(94),Ne=n.n(qe);var Be=function(e){var t=e.match.params.id,n=[{name:"\ud83d\udcbb Virtual",enum:"Virtual",placeholder:"Link to event"},{name:"\ud83c\udf0d In Person",enum:"InPerson",placeholder:"Location to event"}],a=J().user,c=Object(r.useState)(n[0]),o=Object(d.a)(c,2),i=o[0],x=o[1],v=Object(r.useState)(""),g=Object(d.a)(v,2),w=g[0],y=g[1],C=Object(r.useState)("https://i.ibb.co/L61C1RD/default-Event.png"),z=Object(d.a)(C,2),W=z[0],E=z[1],F=Object(r.useState)(""),D=Object(d.a)(F,2),q=D[0],N=D[1],R=Object(r.useState)({}),X=Object(d.a)(R,2),T=X[0],H=X[1],M=Object(r.useState)(""),Y=Object(d.a)(M,2),G=Y[0],P=Y[1],U=Object(r.useState)(""),V=Object(d.a)(U,2),Q=V[0],Z=V[1],$=Object(r.useState)(!1),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],re=Object(r.useState)(void 0),ae=Object(d.a)(re,2),ce=ae[0],oe=ae[1],ie=Object(r.useState)("None"),se=Object(d.a)(ie,2),le=se[0],de=se[1],be=Object(r.useState)(void 0),je=Object(d.a)(be,2),me=je[0],he=je[1],pe=Object(r.useState)(!1),xe=Object(d.a)(pe,2),fe=xe[0],ve=xe[1],we=Object(_.a)(),ke=Object(L.f)();Object(r.useEffect)((function(){t&&Ae(),_e()}),[]);var Ce=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),n.append("upload_preset","kolmmszz"),e.prev=3,ve(!0),e.next=7,Se.a.post("https://api.cloudinary.com/v1_1/relmcloud/image/upload",n);case 7:r=e.sent,console.log(r),E(r.data.url),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:return e.prev=15,ve(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("communities").select("id, name").contains("createdBy",[localStorage.getItem("email")]);case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:he(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(localStorage.getItem("email")),e.next=4,k.from("communities").select("id, name, logo,description,audience,events").contains("createdBy",[localStorage.getItem("email")]).eq("id",t).single();case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:oe(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(q.length>3)){e.next=41;break}if(E(W),e.prev=2,ne(!0),n={},!t){e.next=15;break}return n={name:q,description:G,content:Q,date:T,link:w,image:W,admin:localStorage.getItem("email"),platform:i.enum,createdBy:[localStorage.getItem("email")],community:t},e.next=9,k.from("communities").select("id, events").eq("id",t).single();case 9:return r=e.sent,a=r.data,e.next=13,k.from("communities").upsert({id:a.id,events:a.events+1},{returning:"minimal"}).single();case 13:e.next=16;break;case 15:n={name:q,description:G,content:Q,date:T,link:w,image:W,admin:localStorage.getItem("email"),platform:i.enum,createdBy:[localStorage.getItem("email")],community:"None"===le?null:le};case 16:return e.next=18,k.from("events").upsert(n).single();case 18:if(c=e.sent,"None"===le){e.next=26;break}return e.next=22,k.from("communities").select("id, events").eq("id",le).single();case 22:return o=e.sent,l=o.data,e.next=26,k.from("communities").upsert({id:l.id,events:l.events+1},{returning:"minimal"});case 26:if(!c.error){e.next=28;break}throw c.error;case 28:we({title:"Success",position:"bottom",description:"Event created successfully!",status:"success",duration:5e3,isClosable:!0}),setTimeout((function(){window.location.href="/manage/event/".concat(c.data.id)}),1e3),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(2),console.log(e.t0),we({title:"Error",position:"bottom",description:e.t0.error_description||e.t0.message,status:"error",duration:5e3,isClosable:!0});case 36:return e.prev=36,ne(!1),e.finish(36);case 39:e.next=42;break;case 41:we({title:"Error",position:"bottom",description:"Event name should have more than 3 characters",status:"error",duration:5e3,isClosable:!0});case 42:case"end":return e.stop()}}),e,null,[[2,32,36,39]])})));return function(){return e.apply(this,arguments)}}(),We=function(){return Object(S.jsxs)(m.a,{children:[Object(S.jsxs)(j.a,{fontSize:"xl",fontWeight:"semibold",color:"brand.primary",alignItems:"center",experimental_spaceX:"3",mt:"8",mb:"4",children:[Object(S.jsx)(De.a,{})," ",Object(S.jsx)(h.a,{children:"Where will it happen? *"})]}),Object(S.jsx)(j.a,{p:"1.5",bg:"whiteAlpha.200",w:"-webkit-fit-content",experimental_spaceX:"3",rounded:"lg",children:n.map((function(e,t){return Object(S.jsx)(m.a,{onClick:function(){x(e),y("")},cursor:"pointer",color:e.name===i.name?"white":"whiteAlpha.800",_hover:{color:"white"},transitionDuration:"200ms",bg:e.name===i.name?"whiteAlpha.300":"transparent",px:"4",py:"1",rounded:"base",children:e.name},t)}))})]})};return Object(S.jsxs)(ue,{communityId:t,children:[Object(S.jsx)(B.a,{children:Object(S.jsx)("title",{children:"New Event | Relm"})}),Object(S.jsxs)(m.a,{children:[t?Object(S.jsx)(ze,{username:null===a||void 0===a?void 0:a.username,communityName:null===ce||void 0===ce?void 0:ce.name}):Object(S.jsx)(S.Fragment,{}),Object(S.jsxs)(j.a,{alignItems:"center",experimental_spaceX:"4",children:[t?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(m.a,{cursor:"pointer",p:"2",onClick:function(){ke.goBack()},rounded:"full",_hover:{bg:"whiteAlpha.200"},children:Object(S.jsx)(ge.a,{})}),Object(S.jsx)(h.a,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",children:"Create Event"})]}),Object(S.jsx)(O.a,{mt:"3",color:"white",opacity:"0.2"})]}),Object(S.jsxs)(j.a,{alignItems:"center",mt:"6",direction:"column",children:[Object(S.jsx)(f.a,{ratio:1920/1080,w:{base:"full",md:"80%",lg:"70%"},shadow:"xl",children:Object(S.jsxs)(m.a,{children:[Object(S.jsx)(b.a,{rounded:"lg",src:W}),Object(S.jsx)(p.a,{position:"absolute",bottom:"0",left:"0",m:"4",size:"sm",bg:"blackAlpha.600",border:"1px",onClick:function(){return document.getElementById("file").click()},borderColor:"transparent",_hover:{borderColor:"whiteAlpha.200",bg:"blackAlpha.800"},_focus:{},_active:{bg:"blackAlpha.700"},children:fe?Object(S.jsx)(I.a,{}):Object(S.jsx)(S.Fragment,{children:"Change cover photo"})})]})}),Object(S.jsx)(A.a,{type:"file",accept:"image/*",id:"file",display:"none",onChange:function(e){return Ce(e.target.files[0])}}),Object(S.jsx)(m.a,{w:{base:"full",md:"80%",lg:"70%"},mt:"4",children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Ie()},children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",children:"Event Name *"}),Object(S.jsx)(A.a,{w:"full",onChange:function(e){return N(e.target.value)},type:"text",mt:"1.5",py:"5",isRequired:!0,px:"0",rounded:"none",color:"white",fontSize:"xl",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"1px",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Designing Session"}),Object(S.jsx)(We,{}),Object(S.jsx)(A.a,{w:"full",type:"text",mt:"3",py:"5",rounded:"lg",color:"white",isRequired:!0,value:w,onChange:function(e){return y(e.target.value)},_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:i.placeholder}),Object(S.jsxs)(j.a,{fontSize:"xl",fontWeight:"semibold",color:"brand.primary",alignItems:"center",experimental_spaceX:"3",mt:"8",children:[Object(S.jsx)(K.a,{})," ",Object(S.jsx)(h.a,{children:"When will it happen? *"})]}),Object(S.jsxs)(j.a,{experimental_spaceX:"4",mt:"2",children:[Object(S.jsx)(A.a,{w:"full",type:"date",placeholder:"Date",onChange:function(e){var t=e.target.value;console.log(t);var n=t.split("-");H(Object(u.a)(Object(u.a)({},T),{},{date:n[2],month:n[1],year:n[0]}))},mt:"1.5",py:"5",rounded:"lg",isRequired:!0,color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"}}),Object(S.jsx)(A.a,{w:{sm:"70%",lg:"40%"},type:"time",placeholder:"Time",onChange:function(e){H(Object(u.a)(Object(u.a)({},T),{},{time:Ne()(e.target.value,"HH:mm").format("hh:mm A")}))},mt:"1.5",isRequired:!0,py:"5",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"}})]}),Object(S.jsx)(h.a,{mt:"1",color:"whiteAlpha.500",children:"* Date and time is in GMT+5:30"}),Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",mt:"6",children:"Description"}),Object(S.jsx)(A.a,{w:"full",type:"text",onChange:function(e){return P(e.target.value)},mt:"1.5",py:"5",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Describe about your event in brief"}),Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",mt:"4",children:"Content"}),Object(S.jsx)(Oe.a,{w:"full",onChange:function(e){return Z(e.target.value)},type:"text",mt:"1.5",py:"3",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Write about your event"}),ce?Object(S.jsx)(S.Fragment,{}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",mt:"4",children:"Community"}),Object(S.jsxs)(Fe.a,{color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},mt:"2",onChange:function(e){return de(e.target.value)},children:[Object(S.jsx)("option",{style:{color:"white",backgroundColor:"black"},value:null,children:"None"}),null===me||void 0===me?void 0:me.map((function(e,t){return Object(S.jsx)("option",{style:{color:"white",backgroundColor:"black"},value:e.id,children:e.name},t)}))]})]}),Object(S.jsx)(p.a,{color:"black",float:"right",mt:"6",type:"submit",rounded:"lg",_focus:{},_active:{},leftIcon:te?Object(S.jsx)(I.a,{}):Object(S.jsx)(ye.a,{size:"20px"}),children:te?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(S.Fragment,{children:"Create Event"})})]})})]})]})},Re=n(17),Xe=n(350),Le=n(351),Te=n(352),He=n(367),Me=n(353),Ye=n(349);var Ge=function(e){var t=e.audience,n=(e.communityId,e.placeholder);return Object(S.jsx)(m.a,{border:"1px",rounded:"xl",mt:"4",borderColor:"whiteAlpha.400",children:Object(S.jsxs)(Ye.a,{variant:"simple",colorScheme:"whiteAlpha",children:[Object(S.jsx)(Ye.e,{children:Object(S.jsxs)(Ye.f,{children:[Object(S.jsx)(Ye.d,{color:"whiteAlpha.600",children:"Name"}),Object(S.jsx)(Ye.d,{color:"whiteAlpha.600",display:{base:"none",md:"table-cell"},children:"Email"}),Object(S.jsx)(Ye.d,{color:"whiteAlpha.600",children:"Events"})]})}),Object(S.jsx)(Ye.b,{children:(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((function(e,t){return Object(S.jsxs)(Ye.f,{children:[Object(S.jsx)(Ye.c,{maxW:{base:"100px",md:"200px"},children:e.name}),Object(S.jsx)(Ye.c,{display:{base:"none",md:"table-cell"},maxW:"200px",children:e.email}),Object(S.jsx)(Ye.c,{children:e.events.length})]},t)})):Object(S.jsx)(h.a,{py:"2",px:"6",color:"whiteAlpha.600",children:n?Object(S.jsx)(S.Fragment,{children:n}):Object(S.jsx)(S.Fragment,{children:"No guests"})})})]})})};var Pe=function(e){var t=e.id,n=e.admin,a=e.email,c=Object(r.useState)(void 0),o=Object(d.a)(c,2),i=o[0],u=o[1],b=Object(xe.a)(),x=b.isOpen,f=b.onOpen,O=b.onClose,v=Object(_.a)();Object(r.useEffect)((function(){y()}),[]);var g=function(){var e=Object(l.a)(s.a.mark((function e(n){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("events").select("id, createdBy").eq("id",t).single();case 3:return r=e.sent,a=r.data,c=[],null===a||void 0===a||a.createdBy.forEach((function(e){e!==n&&c.push(e)})),e.next=9,k.from("events").upsert({id:a.id,createdBy:c},{returning:"minimal"});case 9:window.location.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){return Object(S.jsxs)(fe.a,{isOpen:x,onClose:O,children:[Object(S.jsx)(fe.g,{}),Object(S.jsxs)(fe.d,{pb:"3",bg:"#1D2023",color:"white",children:[Object(S.jsx)(fe.c,{}),Object(S.jsx)(fe.b,{children:Object(S.jsxs)(j.a,{transitionDuration:"200ms",overflow:"clip",p:"2",alignItems:"center",rounded:"xl",w:"full",experimental_spaceX:"4",maxW:{base:"full",md:"280px"},children:[Object(S.jsx)(ce.a,{size:"md",src:null===i||void 0===i?void 0:i.avatar_url,name:(null===i||void 0===i?void 0:i.username)||a}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontWeight:"semibold",fontSize:"lg",children:null===i||void 0===i?void 0:i.username}),Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontSize:i?"xs":"sm",children:a})]})]})}),Object(S.jsxs)(fe.e,{children:[Object(S.jsx)(p.a,{size:"sm",bg:"whiteAlpha.300",mr:"2",_hover:{},_active:{},onClick:O,children:"Close"}),Object(S.jsx)(p.a,{size:"sm",bg:"red",_hover:{},_active:{},onClick:function(){a===window.localStorage.getItem("email")?v({title:"Error",position:"bottom",description:"Cannot remove admin from host",status:"error",duration:5e3,isClosable:!0}):g(a)},children:"Remove from host"})]})]})]})},y=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("users").select("username, avatar_url, email").eq("email",a).single();case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:u(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(j.a,{onClick:function(){n===window.localStorage.getItem("email")&&f()},border:"1px",cursor:"pointer",mr:{md:"4"},mb:"4",borderColor:"transparent",transitionDuration:"200ms",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},overflow:"clip",bg:"alpha.white",p:"2",alignItems:"center",rounded:"xl",w:"full",experimental_spaceX:"4",maxW:{base:"full",md:"280px"},children:[Object(S.jsx)(w,{}),Object(S.jsx)(ce.a,{size:"md",src:null===i||void 0===i?void 0:i.avatar_url,name:(null===i||void 0===i?void 0:i.username)||a}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontWeight:"semibold",fontSize:"lg",children:null===i||void 0===i?void 0:i.username}),Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontSize:i?"xs":"sm",children:a})]})]})};var Je=function(e){var t=e.eventId,n=e.eventName,a=e.eventDescription,c=e.eventImage,o=e.eventPlatform,i=e.eventLink,x=e.eventDate,O=e.eventContent,v=[{name:"\ud83d\udcbb Virtual",enum:"Virtual",placeholder:"Link to event"},{name:"\ud83c\udf0d In Person",enum:"InPerson",placeholder:"Location to event"}],g=Object(r.useState)("Virtual"===o?v[0]:v[1]),w=Object(d.a)(g,2),y=w[0],C=w[1],z=Object(r.useState)(i),W=Object(d.a)(z,2),E=W[0],F=W[1],D=Object(r.useState)(c),q=Object(d.a)(D,2),N=q[0],B=q[1],R=Object(r.useState)(n),X=Object(d.a)(R,2),L=X[0],T=X[1],H=Object(r.useState)(x),M=Object(d.a)(H,2),Y=M[0],G=M[1],P=Object(r.useState)(a),J=Object(d.a)(P,2),U=J[0],V=J[1],Q=Object(r.useState)(O),Z=Object(d.a)(Q,2),$=Z[0],ee=Z[1],te=Object(r.useState)(!1),ne=Object(d.a)(te,2),re=ne[0],ae=ne[1],ce=Object(r.useState)(!1),oe=Object(d.a)(ce,2),ie=oe[0],se=oe[1],le=Object(_.a)(),de=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),n.append("upload_preset","kolmmszz"),e.prev=3,se(!0),e.next=7,Se.a.post("https://api.cloudinary.com/v1_1/relmcloud/image/upload",n);case 7:r=e.sent,console.log(r),B(r.data.url),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:return e.prev=15,se(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(L.length>3)){e.next=24;break}return e.prev=1,ae(!0),{},n={id:t,name:L,description:U,content:$,date:Y,link:E,image:N,platform:y.enum},e.next=7,k.from("events").upsert(n,{returning:"minimal"});case 7:if(r=e.sent,!(a=r.error)){e.next=11;break}throw a;case 11:le({title:"Success",position:"bottom",description:"Event updated successfully!",status:"success",duration:5e3,isClosable:!0}),window.location.reload(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),le({title:"Error",position:"bottom",description:e.t0.error_description||e.t0.message,status:"error",duration:5e3,isClosable:!0});case 19:return e.prev=19,ae(!1),e.finish(19);case 22:e.next=25;break;case 24:le({title:"Error",position:"bottom",description:"Event name should have more than 3 characters",status:"error",duration:5e3,isClosable:!0});case 25:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(){return e.apply(this,arguments)}}(),be=function(){return Object(S.jsxs)(m.a,{children:[Object(S.jsxs)(j.a,{fontSize:"xl",fontWeight:"semibold",color:"brand.primary",alignItems:"center",experimental_spaceX:"3",mt:"8",mb:"4",children:[Object(S.jsx)(De.a,{})," ",Object(S.jsx)(h.a,{children:"Where will it happen? *"})]}),Object(S.jsx)(j.a,{p:"1.5",bg:"whiteAlpha.200",w:"-webkit-fit-content",experimental_spaceX:"3",rounded:"lg",children:v.map((function(e,t){return Object(S.jsx)(m.a,{onClick:function(){C(e),F("")},cursor:"pointer",color:e.name===y.name?"white":"whiteAlpha.800",_hover:{color:"white"},transitionDuration:"200ms",bg:e.name===y.name?"whiteAlpha.300":"transparent",px:"4",py:"1",rounded:"base",children:e.name},t)}))})]})};return Object(S.jsxs)(j.a,{alignItems:"center",mt:"6",direction:"column",color:"white",children:[Object(S.jsx)(f.a,{ratio:1920/1080,w:"full",shadow:"xl",children:Object(S.jsxs)(m.a,{children:[Object(S.jsx)(b.a,{rounded:"lg",src:N}),Object(S.jsx)(p.a,{position:"absolute",bottom:"0",left:"0",m:"4",size:"sm",bg:"blackAlpha.600",border:"1px",onClick:function(){return document.getElementById("file").click()},borderColor:"transparent",_hover:{borderColor:"whiteAlpha.200",bg:"blackAlpha.800"},_focus:{},_active:{bg:"blackAlpha.700"},children:ie?Object(S.jsx)(I.a,{}):Object(S.jsx)(S.Fragment,{children:"Change cover photo"})})]})}),Object(S.jsx)(A.a,{type:"file",accept:"image/*",id:"file",display:"none",onChange:function(e){return de(e.target.files[0])}}),Object(S.jsx)(m.a,{w:"full",mt:"4",children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),ue()},children:[Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",children:"Event Name *"}),Object(S.jsx)(A.a,{w:"full",onChange:function(e){return T(e.target.value)},type:"text",value:L,mt:"1.5",py:"5",isRequired:!0,px:"0",rounded:"none",color:"white",fontSize:"xl",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"1px",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Designing Session"}),Object(S.jsx)(be,{}),Object(S.jsx)(A.a,{w:"full",type:"text",mt:"3",py:"5",rounded:"lg",color:"white",isRequired:!0,value:E,onChange:function(e){return F(e.target.value)},_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:y.placeholder}),Object(S.jsxs)(j.a,{fontSize:"xl",fontWeight:"semibold",color:"brand.primary",alignItems:"center",experimental_spaceX:"3",mt:"8",children:[Object(S.jsx)(K.a,{})," ",Object(S.jsx)(h.a,{children:"When will it happen? *"})]}),Object(S.jsxs)(j.a,{experimental_spaceX:"4",mt:"2",children:[Object(S.jsx)(A.a,{w:"full",type:"date",defaultValue:x.year+"-"+x.month+"-"+x.date,placeholder:"Date",onChange:function(e){var t=e.target.value;console.log(t);var n=t.split("-");G(Object(u.a)(Object(u.a)({},Y),{},{date:n[2],month:n[1],year:n[0]})),console.log(Y)},mt:"1.5",py:"5",rounded:"lg",isRequired:!0,color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"}}),Object(S.jsx)(A.a,{w:{sm:"70%",lg:"40%"},type:"time",placeholder:"Time",defaultValue:Ne()(x.time,"hh:mm A").format("HH:mm"),onChange:function(e){G(Object(u.a)(Object(u.a)({},Y),{},{time:Ne()(e.target.value,"HH:mm").format("hh:mm A")}))},mt:"1.5",isRequired:!0,py:"5",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"}})]}),Object(S.jsx)(h.a,{mt:"1",color:"whiteAlpha.500",children:"* Date and time is in GMT+5:30"}),Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",mt:"6",children:"Description"}),Object(S.jsx)(A.a,{value:U,w:"full",type:"text",onChange:function(e){return V(e.target.value)},mt:"1.5",py:"5",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Describe about your event in brief"}),Object(S.jsx)(h.a,{color:"white",fontWeight:"medium",fontSize:"sm",mt:"4",children:"Content"}),Object(S.jsx)(Oe.a,{w:"full",value:$,onChange:function(e){return ee(e.target.value)},type:"text",mt:"1.5",py:"3",rounded:"lg",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Write about your event"}),Object(S.jsx)(p.a,{color:"black",float:"right",mt:"6",type:"submit",rounded:"lg",_focus:{},_active:{},leftIcon:re?Object(S.jsx)(I.a,{size:"sm"}):Object(S.jsx)(ye.a,{size:"20px"}),children:"Update Event"})]})})]})},Ue=n(193);var Ve=function(e){var t=e.match.params.id,n=Object(r.useState)(void 0),a=Object(d.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(void 0),u=Object(d.a)(i,2),b=u[0],x=u[1],f=Object(r.useState)([]),v=Object(d.a)(f,2),g=v[0],w=v[1],y=Object(Xe.a)("".concat(window.location.origin,"/event/").concat(t)),C=y.hasCopied,z=y.onCopy,W=Object(L.f)(),E=Object(_.a)(),F=Object(r.useState)(!1),D=Object(d.a)(F,2),q=D[0],N=D[1],R=Object(r.useState)(!1),X=Object(d.a)(R,2),H=X[0],M=X[1],Y=Object(r.useState)(void 0),G=Object(d.a)(Y,2),P=G[0],J=G[1],V=Object(r.useState)(!1),Q=Object(d.a)(V,2),Z=Q[0],$=Q[1],ee=Object(r.useState)(!1),te=Object(d.a)(ee,2),re=te[0],ae=te[1],ce=Object(xe.a)(),oe=ce.isOpen,ie=ce.onOpen,se=ce.onClose;Object(r.useEffect)((function(){je(),de(),c&&le(c)}),c);var le=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("users").select("username").eq("email",t.admin).single();case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:J(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("audience").select("name, email, events").contains("events",[t]);case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:x(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("events").select("id, name, image, link, description, content, date, community, audience, createdBy, admin, isListed, isOpen,platform").contains("createdBy",[localStorage.getItem("email")]).eq("id",t).single();case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:o(r),N(r.isListed),M(r.isOpen),w(r.createdBy),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ae(!0),{},n={id:t,isOpen:H,isListed:q},console.log(q,H),console.log(n),e.next=8,k.from("events").upsert(n,{returning:"minimal"});case 8:if(r=e.sent,!(a=r.error)){e.next=12;break}throw a;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:return e.prev=17,ae(!1),$(!1),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[0,14,17,21]])})));return function(){return e.apply(this,arguments)}}();function he(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var pe=function(){var e=Object(xe.a)(),n=e.isOpen,a=e.onOpen,o=e.onClose,i=Object(r.useState)(!1),u=Object(d.a)(i,2),b=u[0],m=u[1],h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],O=x[1],v=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!he(f)){e.next=22;break}return g.push(f),e.prev=2,m(!0),e.next=6,k.from("events").upsert({id:t,createdBy:Object(Re.a)(new Set(g))},{returning:"minimal"});case 6:if(n=e.sent,!(r=n.error)){e.next=10;break}throw r;case 10:return e.next=12,Ue.a.send("service_2htewq7","event_invitation",{to_email:f,event_name:null===c||void 0===c?void 0:c.name,from_name:"Relm",event_admin:null===P||void 0===P?void 0:P.username,event_link:window.location.href},"user_OwcNyW0Wpk8ZIupNeA042");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:m(!1),o(),window.location.reload(),e.next=23;break;case 22:E({title:"Error",position:"bottom",description:"Enter a valid email address",status:"error",duration:5e3,isClosable:!0});case 23:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(j.a,{border:"2px",cursor:"pointer",mr:{md:"4"},mb:"4",borderColor:"transparent",transitionDuration:"200ms",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},overflow:"clip",bg:"whiteAlpha.50",p:"2",justify:"center",borderStyle:"dashed",alignItems:"center",rounded:"xl",w:"full",onClick:a,minH:"14",experimental_spaceX:"4",maxW:{base:"full",md:"280px"},children:[Object(S.jsxs)(fe.a,{isOpen:n,onClose:o,children:[Object(S.jsx)(fe.g,{}),Object(S.jsxs)(fe.d,{pb:"2",bg:"#1D2023",color:"white",children:[Object(S.jsx)(fe.f,{children:"Add host"}),Object(S.jsx)(fe.c,{}),Object(S.jsx)(fe.b,{children:Object(S.jsx)(A.a,{id:"email",value:f,onChange:function(e){return O(e.target.value)},type:"email",_placeholder:{color:"whiteAlpha.500"},placeholder:"Email",_focus:{borderColor:"brand.primary"}})}),Object(S.jsx)(fe.e,{children:Object(S.jsx)(p.a,{size:"sm",bg:"brand.primary",leftIcon:b?Object(S.jsx)(I.a,{size:"sm"}):Object(S.jsx)(U.a,{size:"18px"}),_hover:{},_active:{},onClick:v,children:"Add"})})]})]}),Object(S.jsx)(U.a,{})]})},Oe=function(){return Object(S.jsxs)(fe.a,{size:"3xl",isOpen:oe,onClose:se,children:[Object(S.jsx)(fe.g,{}),Object(S.jsxs)(fe.d,{bg:"#1D2023",children:[Object(S.jsxs)(fe.f,{color:"white",children:["Settings ",Object(S.jsx)(fe.c,{color:"white"})]}),Object(S.jsx)(fe.b,{px:"8",pb:"8",children:Object(S.jsx)(Je,{eventId:t,eventName:null===c||void 0===c?void 0:c.name,eventContent:null===c||void 0===c?void 0:c.content,eventDate:null===c||void 0===c?void 0:c.date,eventDescription:null===c||void 0===c?void 0:c.description,eventPlatform:null===c||void 0===c?void 0:c.platform,eventImage:null===c||void 0===c?void 0:c.image,eventLink:null===c||void 0===c?void 0:c.link})})]})]})},ve=function(){return Object(S.jsxs)(Le.a,{children:[Object(S.jsx)(A.a,{cursor:"pointer",transitionDuration:"200ms",onClick:function(){window.open("".concat(window.location.origin,"/event/").concat(t),"_blank")},_hover:{color:"brand.primary"},value:"".concat(window.location.origin,"/event/").concat(t),isReadOnly:!0,rounded:"lg",border:"none",bg:"whiteAlpha.200"}),Object(S.jsx)(Te.b,{onClick:function(){return z()},cursor:"pointer",p:"2",roundedRight:"lg",transitionDuration:"200ms",_hover:{color:"brand.primary"},children:Object(S.jsx)(ne.a,{label:"Copy to clipboard",children:C?Object(S.jsx)(T.a,{}):Object(S.jsx)(Me.a,{size:"20px"})})})]})},we=function(){var e=Object(Xe.a)("".concat(window.location.origin,"/feedback/").concat(t)),n=e.hasCopied,r=e.onCopy;return Object(S.jsxs)(m.a,{mb:"6",children:[Object(S.jsx)(j.a,{justify:"space-between",mt:"4",alignItems:"center",children:Object(S.jsx)(h.a,{casing:"capitalize",fontSize:"sm",fontWeight:"semibold",letterSpacing:"2px",color:"white",children:"FEEDBACK FORM LINK"})}),Object(S.jsxs)(Le.a,{mt:"2",maxW:{md:"300px"},children:[Object(S.jsx)(A.a,{cursor:"pointer",transitionDuration:"200ms",onClick:function(){window.open("".concat(window.location.origin,"/feedback/").concat(t),"_blank")},_hover:{color:"brand.primary"},value:"".concat(window.location.origin,"/feedback/").concat(t),isReadOnly:!0,rounded:"lg",border:"none",bg:"whiteAlpha.200"}),Object(S.jsx)(Te.b,{onClick:function(){return r()},cursor:"pointer",p:"2",roundedRight:"lg",transitionDuration:"200ms",_hover:{color:"brand.primary"},children:Object(S.jsx)(ne.a,{label:"Copy to clipboard",children:n?Object(S.jsx)(T.a,{}):Object(S.jsx)(Me.a,{size:"20px"})})})]})]})};return Object(S.jsxs)(ue,{children:[c?Object(S.jsx)(B.a,{children:Object(S.jsxs)("title",{children:[null===c||void 0===c?void 0:c.name," | Relm"]})}):Object(S.jsx)(S.Fragment,{}),c?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{children:Object(S.jsxs)(j.a,{justify:"space-between",alignItems:"end",children:[Object(S.jsxs)(m.a,{children:[Object(S.jsxs)(j.a,{experimental_spaceX:"3",alignItems:"center",children:[Object(S.jsx)(m.a,{cursor:"pointer",p:"2",w:"10",h:"10",onClick:function(){W.goBack()},rounded:"full",_hover:{bg:"whiteAlpha.200"},children:Object(S.jsx)(ge.a,{})}),Object(S.jsx)(h.a,{fontSize:{base:"2xl",md:"3xl"},fontWeight:"bold",children:null===c||void 0===c?void 0:c.name})]}),Object(S.jsxs)(j.a,{fontSize:"xs",color:"brand.primary",experimental_spaceX:"1.5",alignItems:"center",mt:"1",children:[Object(S.jsx)(K.a,{size:"14px"}),Object(S.jsx)(h.a,{children:be(null===c||void 0===c?void 0:c.date)})]}),(null===c||void 0===c?void 0:c.description)?Object(S.jsx)(h.a,{mt:"1",fontSize:{base:"xs",md:"sm"},fontWeight:"thin",children:null===c||void 0===c?void 0:c.description}):Object(S.jsx)(S.Fragment,{})]}),Object(S.jsxs)(j.a,{direction:"column",alignItems:"end",experimental_spaceY:"1",children:[Object(S.jsxs)(m.a,{_hover:{bg:"whiteAlpha.200"},rounded:"full",p:"2",cursor:"pointer",onClick:ie,children:[Object(S.jsx)(Oe,{}),Object(S.jsx)(_e.a,{size:"20px"})]}),Object(S.jsxs)(m.a,{display:{base:"none",md:"block"},children:[Object(S.jsx)(h.a,{fontSize:"xs",mb:"1",color:"whiteAlpha.500",children:"Sharable invite link"}),Object(S.jsx)(ve,{})]})]})]})}),Object(S.jsx)(O.a,{mt:"3",color:"white",opacity:"0.2"}),Object(S.jsxs)(m.a,{display:{base:"block",md:"none"},children:[Object(S.jsx)(j.a,{justify:"space-between",mt:"4",alignItems:"center",children:Object(S.jsx)(h.a,{casing:"capitalize",fontSize:"sm",fontWeight:"semibold",letterSpacing:"2px",color:"white",children:"INVITE LINK"})}),Object(S.jsx)(m.a,{mt:"2",children:Object(S.jsx)(ve,{})})]}),Object(S.jsx)(j.a,{justify:"space-between",mt:"8",alignItems:"center",children:Object(S.jsx)(h.a,{casing:"capitalize",fontSize:"sm",fontWeight:"semibold",letterSpacing:"2px",color:"white",children:"GUESTS"})}),Object(S.jsx)(Ge,{audience:b}),Object(S.jsx)(j.a,{justify:"space-between",mt:"8",alignItems:"center",children:Object(S.jsx)(h.a,{casing:"capitalize",fontSize:"sm",fontWeight:"semibold",letterSpacing:"2px",color:"white",children:"HOST & MANAGERS"})}),Object(S.jsxs)(j.a,{mt:"4",wrap:"wrap",children:[null===c||void 0===c?void 0:c.createdBy.map((function(e,n){return Object(S.jsx)(Pe,{id:t,admin:null===c||void 0===c?void 0:c.admin,email:e},n)})),window.localStorage.getItem("email")===(null===c||void 0===c?void 0:c.admin)?Object(S.jsx)(pe,{}):Object(S.jsx)(S.Fragment,{})]}),Object(S.jsx)(we,{}),Object(S.jsxs)(j.a,{direction:"column",mt:"4",children:[Object(S.jsx)(He.a,{w:"-webkit-fit-content",onChange:function(e){N(e.target.checked),$(!0)},isChecked:q,children:"Listed publicly"}),Object(S.jsx)(He.a,{w:"-webkit-fit-content",onChange:function(e){M(e.target.checked),$(!0)},isChecked:H,children:"Registrations open"}),Object(S.jsx)(m.a,{children:Object(S.jsx)(p.a,{display:Z?"block":"none",float:"right",size:"sm",mt:"2",minW:"28",onClick:function(){me()},colorScheme:"whiteAlpha",children:re?Object(S.jsx)(I.a,{size:"sm"}):Object(S.jsx)(S.Fragment,{children:" Save changes"})})})]})]}):Object(S.jsx)(S.Fragment,{})]})},Ke=n(354);var Qe=function(e){var t=e.match.params.id,n=J().user,a=Object(r.useState)(void 0),c=Object(d.a)(a,2),o=c[0],i=c[1],u=Object(r.useState)(void 0),b=Object(d.a)(u,2),j=b[0],p=b[1],x=Object(r.useState)(""),f=Object(d.a)(x,2),v=f[0],g=f[1],w=Object(r.useState)(void 0),y=Object(d.a)(w,2),C=y[0],_=y[1];Object(r.useEffect)((function(){t&&z(),I()}),[]);var I=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=12;break}return e.next=4,k.from("audience").select("name, email, events").contains("communities",[t]).order("created_at",{ascending:!1});case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:i(r),e.next=20;break;case 12:return e.next=14,k.from("audience").select("name, email, events").eq("createdBy",localStorage.getItem("email")).order("created_at",{ascending:!1});case 14:if(c=e.sent,o=c.data,!(l=c.error)){e.next=19;break}throw l;case 19:i(o);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(localStorage.getItem("email")),e.next=4,k.from("communities").select("id, name, logo,description,audience,events").contains("createdBy",[localStorage.getItem("email")]).eq("id",t).single();case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:_(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(ue,{communityId:t,children:[Object(S.jsx)(B.a,{children:Object(S.jsx)("title",{children:"Audience | Relm"})}),Object(S.jsxs)(m.a,{children:[t?Object(S.jsx)(ze,{username:null===n||void 0===n?void 0:n.username,communityName:null===C||void 0===C?void 0:C.name}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(h.a,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",children:"Audience"}),Object(S.jsx)(O.a,{mt:"3",color:"white",opacity:"0.2"}),Object(S.jsxs)(m.a,{mt:"6",children:[Object(S.jsxs)(Le.a,{children:[Object(S.jsx)(Te.a,{color:"brand.primary",children:Object(S.jsx)(Ke.a,{size:"18px"})}),Object(S.jsx)(A.a,{onChange:function(e){var t=e.target.value;g(t);var n=[];null===o||void 0===o||o.forEach((function(e){(e.name.toLowerCase().startsWith(t.toLowerCase())||e.email.toLowerCase().startsWith(t.toLowerCase()))&&n.push(e)})),p(n)},py:"5",rounded:"xl",color:"white",_hover:{borderColor:"whiteAlpha.900"},_focus:{borderColor:"brand.primary"},borderColor:"whiteAlpha.400",_placeholder:{color:"whiteAlpha.400"},placeholder:"Search"})]}),Object(S.jsx)(Ge,{placeholder:"No audience",audience:v.length>0?j:o,communityId:t})]})]})]})},Ze=n(356),$e=n(355),et=n(357),tt=n(114),nt=n.n(tt);n(291);var rt=function(e){var t=e.email,n=Object(r.useState)(void 0),a=Object(d.a)(n,2),c=a[0],o=a[1];Object(r.useEffect)((function(){i(),console.log("again")}),[]);var i=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("users").select("username, avatar_url, email").eq("email",t).single();case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:o(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(j.a,{border:"1px",cursor:"pointer",mb:"2",borderColor:"transparent",transitionDuration:"200ms",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},overflow:"clip",bg:"alpha.white",p:"2",alignItems:"center",rounded:"xl",w:"full",experimental_spaceX:"4",maxW:{base:"full",md:"280px"},children:[Object(S.jsx)(ce.a,{size:"sm",src:null===c||void 0===c?void 0:c.avatar_url,name:(null===c||void 0===c?void 0:c.username)||t}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontWeight:(null===c||void 0===c?void 0:c.username)?"semibold":"normal",fontSize:"sm",children:(null===c||void 0===c?void 0:c.username)?null===c||void 0===c?void 0:c.username:t}),Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontSize:"xx-small",children:"Host"})]})]})};var at=function(e){var t=e.match.params.id,n=Object(r.useState)(void 0),a=Object(d.a)(n,2),c=a[0],o=a[1],i=new nt.a.Converter,u=Object(r.useState)(void 0),x=Object(d.a)(u,2),v=x[0],g=x[1],w=Object(r.useState)(!1),y=Object(d.a)(w,2),z=y[0],E=y[1],F=Object(r.useState)(""),D=Object(d.a)(F,2),q=D[0],N=D[1],B=Object(r.useState)(""),R=Object(d.a)(B,2),X=R[0],L=R[1],T=Object(_.a)();Object(r.useEffect)((function(){M(),window.localStorage.getItem("email")&&H()}),[]);var H=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("users").select("username, avatar_url, email").eq("email",window.localStorage.getItem("email")).single();case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:g(n),N(n.username),L(n.email),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("events").select("name, description, date, community, image, content, platform, link, isListed, isOpen, createdBy, admin, audience").eq("id",t).single();case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:o(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a,o,i,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,k.from("audience").select("events, communities").eq("email",X).single();case 4:return n=e.sent,r=n.data,a=[],o=[],r?(r.events.push(t),r.communities.push(null===c||void 0===c?void 0:c.community),a=r.events,o=r.communities):(a=[t],o=[null===c||void 0===c?void 0:c.community]),i={email:X,name:q,events:Object(Re.a)(new Set(a)),communities:Object(Re.a)(new Set(o)),createdBy:null===c||void 0===c?void 0:c.admin},e.next=12,k.from("audience").upsert(i,{returning:"minimal"});case 12:return e.next=14,k.from("audience").select("name, email, events").contains("events",[t]);case 14:return l=e.sent,e.next=17,k.from("events").upsert({id:t,audience:l.data.length},{returning:"minimal"});case 17:if(!(null===c||void 0===c?void 0:c.community)){e.next=23;break}return e.next=20,k.from("audience").select("name, email, events").contains("communities",[null===c||void 0===c?void 0:c.community]);case 20:return d=e.sent,e.next=23,k.from("communities").upsert({id:null===c||void 0===c?void 0:c.community,audience:d.data.length},{returning:"minimal"});case 23:T({title:"Success",position:"bottom",description:"You are successfully registered!",status:"success",duration:5e3,isClosable:!0}),N(""),L(""),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(1),console.log(e.t0);case 31:return e.prev=31,E(!1),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[1,28,31,34]])})));return function(){return e.apply(this,arguments)}}(),G=function(){return Object(S.jsxs)(j.a,{cursor:"default",borderColor:"transparent",transitionDuration:"200ms",overflow:"clip",mb:"4",alignItems:"center",rounded:"xl",w:"full",experimental_spaceX:"4",children:[Object(S.jsx)(ce.a,{size:"md",src:null===v||void 0===v?void 0:v.avatar_url,name:null===v||void 0===v?void 0:v.username}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontWeight:"semibold",fontSize:"lg",children:null===v||void 0===v?void 0:v.username}),Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontSize:"xs",children:null===v||void 0===v?void 0:v.email})]})]})};return Object(S.jsx)(S.Fragment,{children:c?Object(S.jsx)(S.Fragment,{children:(null===c||void 0===c?void 0:c.isListed)?Object(S.jsxs)(j.a,{bg:"brand.secondary",alignItems:"center",w:"full",direction:"column",children:[Object(S.jsxs)(m.a,{minH:"100vh",py:"6",px:{base:"6",md:"12"},maxW:"1100px",w:"full",color:"white",children:[Object(S.jsx)(m.a,{px:{lg:"20"},children:Object(S.jsx)(C,{communityId:null===c||void 0===c?void 0:c.community})}),Object(S.jsxs)(m.a,{mx:"auto",mt:"6",children:[Object(S.jsx)(f.a,{ratio:1920/1080,children:Object(S.jsx)(b.a,{src:null===c||void 0===c?void 0:c.image,rounded:"xl"})}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{fontWeight:"bold",fontSize:"3xl",mt:"4",children:null===c||void 0===c?void 0:c.name}),Object(S.jsxs)(j.a,{fontSize:"sm",color:"brand.primary",experimental_spaceX:"1.5",alignItems:"center",mt:"1",children:[Object(S.jsx)(K.a,{size:"18px"}),Object(S.jsx)(h.a,{children:be(null===c||void 0===c?void 0:c.date)})]}),Object(S.jsxs)(j.a,{direction:{base:"column",md:"row"},children:[Object(S.jsxs)(m.a,{w:"full",children:[Object(S.jsx)(m.a,{mt:"10",children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(null===c||void 0===c?void 0:c.isOpen)?Y():T({title:"Error",position:"bottom",description:"Event registrations are already closed",status:"Error",duration:5e3,isClosable:!0})},children:[Object(S.jsx)(h.a,{fontSize:"xl",mb:"3",fontWeight:"medium",children:"Register for the event"}),Object(S.jsxs)(j.a,{bg:"whiteAlpha.100",p:"5",rounded:"xl",direction:"column",alignItems:"end",children:[window.localStorage.getItem("email")?Object(S.jsx)(G,{}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(m.a,{w:"full",children:[Object(S.jsx)(A.a,{required:!0,value:q,onChange:function(e){return N(e.target.value)},w:"full",_focus:{border:"2px",borderColor:"brand.primary"},bg:"brand.secondary",border:"2px",borderColor:"transparent",rounded:"lg",mb:"2",py:"5",placeholder:"Your name",_placeholder:{color:"whiteAlpha.400"}}),Object(S.jsx)(A.a,{w:"full",type:"email",value:X,onChange:function(e){return L(e.target.value)},id:"email",required:!0,_focus:{border:"2px",borderColor:"brand.primary"},bg:"brand.secondary",border:"2px",py:"5",borderColor:"transparent",rounded:"lg",placeholder:"Your email",_placeholder:{color:"whiteAlpha.400"}})]})}),Object(S.jsx)(p.a,{mt:"4",px:"6",type:(null===c||void 0===c?void 0:c.isOpen)?"submit":"button",w:"-webkit-fit-content",cursor:(null===c||void 0===c?void 0:c.isOpen)?"pointer":"not-allowed",_hover:{},_active:{},_focus:{},leftIcon:(null===c||void 0===c?void 0:c.isOpen)?z?Object(S.jsx)(I.a,{size:"sm"}):Object(S.jsx)(ye.a,{size:"18px"}):Object(S.jsx)($e.a,{size:"18px"}),bg:"brand.primary",fontSize:"sm",rounded:"lg",children:(null===c||void 0===c?void 0:c.isOpen)?Object(S.jsx)(S.Fragment,{children:"Register"}):Object(S.jsx)(S.Fragment,{children:"Registrations are closed"})})]})]})}),(null===c||void 0===c?void 0:c.description)||(null===c||void 0===c?void 0:c.content)?Object(S.jsxs)(m.a,{mt:"8",children:[Object(S.jsx)(h.a,{fontSize:"xl",mb:"4",fontWeight:"medium",children:"Event Details :"}),(null===c||void 0===c?void 0:c.description)?Object(S.jsx)(h.a,{fontSize:"lg",fontWeight:"semibold",children:null===c||void 0===c?void 0:c.description}):Object(S.jsx)(S.Fragment,{}),(null===c||void 0===c?void 0:c.content)?Object(S.jsx)(h.a,{id:"content",fontSize:"base",mt:"2",fontWeight:"thin",dangerouslySetInnerHTML:{__html:i.makeHtml(null===c||void 0===c?void 0:c.content)}}):Object(S.jsx)(S.Fragment,{})]}):Object(S.jsx)(S.Fragment,{})]}),Object(S.jsx)(m.a,{minW:{md:"240px",lg:"300px"},maxW:{md:"240px",lg:"350px"},ml:{md:"10"},children:Object(S.jsxs)(m.a,{children:[me(null===c||void 0===c?void 0:c.date)?Object(S.jsx)(S.Fragment,{}):Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{opacity:"0.5",children:"Event has end"}),Object(S.jsx)(p.a,{_hover:{},_active:{bg:"pink.600"},_focus:{},bg:"brand.primary",color:"white",px:"6",mt:"2",fontSize:"sm",onClick:function(){return window.location.href="".concat(window.location.origin,"/feedback/").concat(t)},mb:{base:"4",md:"0"},w:"full",children:"Send Feedback"}),Object(S.jsx)(O.a,{my:"6",color:"white",opacity:"0.2"})]}),Object(S.jsxs)(m.a,{mb:"2",children:[Object(S.jsx)(h.a,{fontSize:"xl",fontWeight:"medium",children:"Join Details :"}),Object(S.jsx)(j.a,{alignItems:"center",color:"brand.primary",cursor:"pointer",transitionDelay:"200ms",my:"4",children:"Virtual"===(null===c||void 0===c?void 0:c.platform)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ze.a,{isExternal:!0,href:null===c||void 0===c?void 0:c.link,_focus:{},fontSize:"lg",mr:"1",isTruncated:!0,children:null===c||void 0===c?void 0:c.link}),Object(S.jsx)(m.a,{minW:"20px",onClick:function(){window.open(null===c||void 0===c?void 0:c.link,"_blank")},children:Object(S.jsx)(et.a,{})})]}):Object(S.jsxs)(j.a,{alignItems:"start",w:"-webkit-fit-content",children:[Object(S.jsx)(m.a,{minW:"20px",children:Object(S.jsx)(De.a,{size:"18px"})}),Object(S.jsx)(h.a,{fontSize:"lg",ml:"2",mt:"-1",wordBreak:"break-all",children:null===c||void 0===c?void 0:c.link})]})})]}),Object(S.jsx)(O.a,{color:"white",opacity:"0.2"}),Object(S.jsx)(m.a,{mt:"6",children:null===c||void 0===c?void 0:c.createdBy.map((function(e,t){return Object(S.jsx)(rt,{email:e},t)}))})]})})]})]})]})]}),Object(S.jsxs)(m.a,{w:"full",mt:"10",children:[Object(S.jsx)(O.a,{opacity:"0.1"}),Object(S.jsx)(W,{})]})]}):Object(S.jsx)(j.a,{minH:"100vh",color:"white",bg:"brand.secondary",justify:"center",alignItems:"center",children:"lol 404"})}):Object(S.jsx)(S.Fragment,{})})},ct=n(358);var ot=function(e){var t=e.match.params.id,n=Object(r.useState)(void 0),a=Object(d.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(void 0),u=Object(d.a)(i,2),b=u[0],x=u[1],f=Object(r.useState)(""),v=Object(d.a)(f,2),g=v[0],w=v[1],y=Object(r.useState)(""),z=Object(d.a)(y,2),E=z[0],F=z[1],D=Object(r.useState)(""),q=Object(d.a)(D,2),N=q[0],B=q[1],R=Object(r.useState)(!1),X=Object(d.a)(R,2),L=X[0],T=X[1],H=Object(r.useState)(!1),M=Object(d.a)(H,2),Y=M[0],G=M[1],P=Object(r.useState)("\ud83e\udd29"),J=Object(d.a)(P,2),U=J[0],V=J[1],K=Object(r.useState)(void 0),Q=Object(d.a)(K,2),Z=Q[0],$=Q[1],ee=Object(_.a)();Object(r.useEffect)((function(){ae(),(null===c||void 0===c?void 0:c.community)&&re(null===c||void 0===c?void 0:c.community),window.localStorage.getItem("email")&&ne()}),[null===c||void 0===c?void 0:c.community]);var te=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),t={name:g,email:E,content:N,rating:U,event:null===c||void 0===c?void 0:c.id,community:null===b||void 0===b?void 0:b.id,createdBy:null===c||void 0===c?void 0:c.admin},e.next=5,k.from("insights").upsert(t,{returning:"minimal"});case 5:if(n=e.sent,!(r=n.error)){e.next=9;break}throw r;case 9:G(!0),Z||(w(""),F("")),B(""),V("\ud83e\udd29"),ee({title:"Success",position:"bottom",description:"We are happy to get your feedback \ud83d\ude04",status:"success",duration:5e3,isClosable:!0}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,T(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("users").select("username, avatar_url, email").eq("email",window.localStorage.getItem("email")).single();case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:$(n),w(n.username),F(n.email),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("communities").select("id, name, logo").eq("id",t).single();case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:x(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("events").select("id, name, description, date, community, image, content, platform, link, isListed, isOpen, createdBy, admin, audience").eq("id",t).single();case 3:if(n=e.sent,r=n.data,!(a=n.error)){e.next=8;break}throw a;case 8:o(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:c?Object(S.jsx)(S.Fragment,{children:(null===c||void 0===c?void 0:c.isListed)?Object(S.jsxs)(j.a,{bg:"brand.secondary",alignItems:"center",w:"full",direction:"column",children:[Object(S.jsxs)(m.a,{minH:"100vh",py:"6",px:{base:"6",md:"12"},maxW:"1100px",w:"full",color:"white",children:[Object(S.jsx)(m.a,{children:Object(S.jsx)(C,{communityId:null===c||void 0===c?void 0:c.community})}),Object(S.jsxs)(m.a,{mt:"20",children:[Object(S.jsxs)(h.a,{fontSize:"2xl",mb:"3",fontWeight:"bold",children:[b?Object(S.jsx)(S.Fragment,{children:null===b||void 0===b?void 0:b.name}):Object(S.jsx)(S.Fragment,{children:"We"})," would love your feedback"]}),Object(S.jsx)("form",{onSubmit:function(e){e.preventDefault(),te()},children:Object(S.jsxs)(j.a,{bg:"whiteAlpha.100",p:"5",rounded:"xl",direction:"column",children:[Z?Object(S.jsxs)(j.a,{cursor:"default",borderColor:"transparent",transitionDuration:"200ms",overflow:"clip",mb:"2",alignItems:"center",rounded:"xl",w:"full",experimental_spaceX:"4",children:[Object(S.jsx)(ce.a,{size:"md",src:null===Z||void 0===Z?void 0:Z.avatar_url,name:null===Z||void 0===Z?void 0:Z.username}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontWeight:"semibold",fontSize:"lg",children:null===Z||void 0===Z?void 0:Z.username}),Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontSize:"xs",children:null===Z||void 0===Z?void 0:Z.email})]})]}):Object(S.jsxs)(j.a,{experimental_spaceX:{base:"0",md:"5"},experimental_spaceY:{base:"3",md:"0"},direction:{base:"column",md:"row"},children:[Object(S.jsx)(A.a,{required:!0,value:g,onChange:function(e){return w(e.target.value)},w:"full",_focus:{border:"2px",borderColor:"brand.primary"},bg:"brand.secondary",border:"2px",borderColor:"transparent",rounded:"lg",py:"5",placeholder:"Your name",_placeholder:{color:"whiteAlpha.400"}}),Object(S.jsx)(A.a,{required:!0,value:E,type:"email",onChange:function(e){return F(e.target.value)},w:"full",_focus:{border:"2px",borderColor:"brand.primary"},bg:"brand.secondary",border:"2px",borderColor:"transparent",rounded:"lg",py:"5",placeholder:"Your email",_placeholder:{color:"whiteAlpha.400"}})]}),Object(S.jsx)(Oe.a,{required:!0,value:N,type:"email",onChange:function(e){return B(e.target.value)},w:"full",_focus:{border:"2px",borderColor:"brand.primary"},bg:"brand.secondary",border:"2px",borderColor:"transparent",rounded:"lg",mt:"4",minH:"200px",py:"5",placeholder:"Your message to us",_placeholder:{color:"whiteAlpha.400"}}),Object(S.jsx)(j.a,{fontSize:{base:"2xl",md:"3xl"},experimental_spaceX:{base:"2",md:"3"},mt:"4",children:["\ud83e\udd29","\ud83d\ude42","\ud83d\ude10","\ud83d\ude14","\ud83d\ude21"].map((function(e,t){return Object(S.jsx)(j.a,{onClick:function(){return V(e)},cursor:"pointer",_hover:{transform:"scale(1.1)",filter:"none"},transitionDuration:"100ms",justify:"center",alignItems:"center",p:"2",rounded:"full",w:{base:"10",md:"14"},h:{base:"10",md:"14"},bg:U===e?"whiteAlpha.200":"",filter:U===e?"none":"grayscale(80%)",children:e},t)}))}),Object(S.jsx)(j.a,{justify:"end",children:Object(S.jsx)(p.a,{type:"submit",mt:"4",bg:"brand.primary",fontSize:"sm",rounded:"lg",_hover:{},_active:{},_focus:{},rightIcon:L?Object(S.jsx)(I.a,{size:"sm"}):Y?Object(S.jsx)(ye.a,{size:"18px"}):Object(S.jsx)(ct.a,{size:"18px"}),w:"-webkit-fit-content",children:Y?Object(S.jsx)(S.Fragment,{children:"Feedback sent"}):Object(S.jsx)(S.Fragment,{children:"Send"})})})]})})]})]}),Object(S.jsxs)(m.a,{w:"full",mt:"10",children:[Object(S.jsx)(O.a,{opacity:"0.1"}),Object(S.jsx)(W,{})]})]}):Object(S.jsx)(S.Fragment,{})}):Object(S.jsx)(S.Fragment,{})})};n(292);var it=function(e){var t=e.name,n=e.email,a=e.content,c=e.rating,o=e.event,i=new nt.a.Converter,u=Object(r.useState)(void 0),b=Object(d.a)(u,2),m=b[0],p=b[1];Object(r.useEffect)((function(){x()}),[]);var x=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.from("events").select("name").eq("id",o).single();case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:p(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(j.a,{gridRow:"1/-1",gridColumn:"1",direction:"column",border:"1px",cursor:"pointer",h:"-webkit-fit-content",mr:{md:"4"},mb:"4",borderColor:"transparent",transitionDuration:"200ms",_hover:{borderColor:"whiteAlpha.200",bg:"whiteAlpha.100"},overflow:"clip",bg:"alpha.white",py:"4",px:"6",rounded:"xl",w:"full",children:[Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontWeight:"semibold",fontSize:"lg",children:t}),Object(S.jsx)(h.a,{align:"left",color:"white",whiteSpace:"nowrap",fontSize:"xs",children:n}),Object(S.jsx)(h.a,{id:"content",fontSize:"base",mt:"2",fontWeight:"thin",dangerouslySetInnerHTML:{__html:i.makeHtml(a)}}),Object(S.jsx)(h.a,{fontSize:"2xl",mt:"-2",children:c}),Object(S.jsx)(h.a,{align:"left",color:"white",mt:"2",whiteSpace:"nowrap",fontWeight:"semibold",fontSize:"sm",children:null===m||void 0===m?void 0:m.name})]})};n(293);var st=function(e){var t=e.match.params.id,n=J().user,a=Object(r.useState)(void 0),c=Object(d.a)(a,2),o=c[0],i=c[1],b=Object(r.useState)(void 0),p=Object(d.a)(b,2),x=p[0],f=p[1];Object(r.useEffect)((function(){t&&g(),v()}),[]);var v=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=13;break}return e.next=4,k.from("insights").select("name, email, content, rating, event").eq("community",t).order("created_at",{ascending:!1});case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:console.log(r),i(r),e.next=21;break;case 13:return e.next=15,k.from("insights").select("name, email, content, rating, event").eq("createdBy",localStorage.getItem("email")).order("created_at",{ascending:!1});case 15:if(c=e.sent,o=c.data,!(l=c.error)){e.next=20;break}throw l;case 20:i(o);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(localStorage.getItem("email")),e.next=4,k.from("communities").select("id, name, logo,description,audience,events").contains("createdBy",[localStorage.getItem("email")]).eq("id",t).single();case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:f(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(ue,{communityId:t,children:[Object(S.jsx)(B.a,{children:Object(S.jsx)("title",{children:"Insights | Relm"})}),Object(S.jsxs)(m.a,{children:[t?Object(S.jsx)(ze,{username:null===n||void 0===n?void 0:n.username,communityName:null===x||void 0===x?void 0:x.name}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(h.a,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",children:"Insights"}),Object(S.jsx)(O.a,{mt:"3",color:"white",opacity:"0.2"})]}),o?(null===o||void 0===o?void 0:o.length)>0?Object(S.jsx)(m.a,{id:"insight-box",mt:"6",children:o.map((function(e,t){return Object(S.jsx)(m.a,{display:"grid",style:{breakInside:"avoid"},gridTemplateRows:"1fr auto",children:Object(S.jsx)(it,Object(u.a)({},e),t)})}))}):Object(S.jsx)(j.a,{color:"whiteAlpha.600",my:"10",justify:"center",textAlign:"center",children:"\ud83d\udc1d No insights received"}):Object(S.jsx)(S.Fragment,{})]})};var lt=function(){return Object(S.jsxs)(j.a,{justify:"center",alignItems:"center",children:[Object(S.jsxs)(B.a,{children:[Object(S.jsx)("title",{children:"Relm | Wiki ..."}),Object(S.jsx)("meta",{"http-equiv":"refresh",content:"2; url = ".concat("https://relm-inc.notion.site/Relm-Wiki-5e264f8a3a724c0bbdf42f0e87d9174b")})]}),Object(S.jsx)(m.a,{overflowX:"clip",w:"full",bg:"brand.secondary",children:Object(S.jsx)(j.a,{justify:"center",w:"full",children:Object(S.jsxs)(j.a,{alignItems:"center",justify:"center",maxW:"1400px",minH:"100vh",py:"6",px:{base:"8",lg:"24"},w:"full",children:[Object(S.jsx)(I.a,{color:"brand.primary"}),Object(S.jsx)(h.a,{color:"white",ml:"4",children:"Redirecting to Relm Wiki"})]})})})]})};var dt=function(){var e=Object(r.useState)(void 0),t=Object(d.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(k.auth.session()),e.next=3,k.auth.onAuthStateChange((function(e,t){a(t)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){c()}),[]),Object(S.jsxs)(L.c,{children:[Object(S.jsx)(L.a,{exact:!0,path:"/",render:n?localStorage.getItem("email")?function(){return window.location.href="/home",Object(S.jsx)(pe,{})}:function(){return Object(S.jsx)(Y,{session:n})}:function(){return Object(S.jsx)(X,{})}}),Object(S.jsx)(L.a,{exact:!0,path:"/signin",render:localStorage.getItem("email")?function(){return window.location.href="/home",Object(S.jsx)(pe,{})}:function(){return Object(S.jsx)(M,{})}}),Object(S.jsx)(L.a,{exact:!0,path:"/event/:id",component:at}),Object(S.jsx)(L.a,{exact:!0,path:"/feedback/:id",component:ot}),Object(S.jsx)(L.a,{exact:!0,path:"/wiki",component:lt}),Object(S.jsx)(L.a,{exact:!0,path:"/auth",render:function(){return Object(S.jsx)(Y,{session:n})}}),localStorage.getItem("email")?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(L.a,{exact:!0,path:"/home",component:pe}),Object(S.jsx)(L.a,{exact:!0,path:"/new/community",component:Ce}),Object(S.jsx)(L.a,{exact:!0,path:"/manage/community/:id",component:We}),Object(S.jsx)(L.a,{exact:!0,path:"/manage/event/:id",component:Ve}),Object(S.jsx)(L.a,{exact:!0,path:"/events",component:Ee}),Object(S.jsx)(L.a,{exact:!0,path:"/new/event",component:Be}),Object(S.jsx)(L.a,{exact:!0,path:"/manage/community/:id/new/event",component:Be}),Object(S.jsx)(L.a,{exact:!0,path:"/manage/community/:id/events",component:Ee}),Object(S.jsx)(L.a,{exact:!0,path:"/audience",component:Qe}),Object(S.jsx)(L.a,{exact:!0,path:"/manage/community/:id/audience",component:Qe}),Object(S.jsx)(L.a,{exact:!0,path:"/insights",component:st}),Object(S.jsx)(L.a,{exact:!0,path:"/manage/community/:id/insights",component:st})]}):Object(S.jsx)(M,{})]})},ut=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,373)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},bt=n(369),jt=n(359),mt=Object(jt.a)({colors:{brand:{primary:"#FF4085",secondary:"#131517"},alpha:{white:"rgba(255, 255, 255, 0.1)"},pink:{600:"#DE316F",800:"#862F4E"},black:{400:"#212325"}},fonts:{brand:"Red Hat Display"}}),ht=n(189);o.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(oe.a,{children:Object(S.jsx)(ht.a,{value:k,children:Object(S.jsx)(P,{children:Object(S.jsx)(bt.a,{theme:mt,children:Object(S.jsx)(dt,{})})})})})}),document.getElementById("root")),ut()}},[[294,1,2]]]);
//# sourceMappingURL=main.7fd976ca.chunk.js.map